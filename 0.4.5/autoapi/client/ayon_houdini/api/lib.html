<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=prev href=hda_utils.html><link rel=next href=pipeline.html><link rel=icon href=../../../../img/favicon.ico><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.9"><title>lib - ayon-houdini</title><link rel=stylesheet href=../../../../assets/stylesheets/main.4af4bdda.min.css><link rel=stylesheet href=../../../../assets/stylesheets/palette.06af60db.min.css><script src=https://unpkg.com/iframe-worker/shim></script><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../../assets/_mkdocstrings.css><link rel=stylesheet href=../../../../css/custom.css><script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#client.ayon_houdini.api.lib class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../../index.html title=ayon-houdini class="md-header__button md-logo" aria-label=ayon-houdini data-md-component=logo> <img src=../../../../img/ay-symbol-blackw-full.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> ayon-houdini </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> lib </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/ynput/ayon-houdini title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../../index.html title=ayon-houdini class="md-nav__button md-logo" aria-label=ayon-houdini data-md-component=logo> <img src=../../../../img/ay-symbol-blackw-full.png alt=logo> </a> ayon-houdini </label> <div class=md-nav__source> <a href=https://github.com/ynput/ayon-houdini title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../index.html class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class=md-nav__item> <a href=../../../../license.html class=md-nav__link> <span class=md-ellipsis> License </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex> <span class=md-ellipsis> Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1 checked> <label class=md-nav__link for=__nav_3_1 id=__nav_3_1_label tabindex=0> <span class=md-ellipsis> client </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_1_label aria-expanded=true> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> client </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1_1 checked> <div class="md-nav__link md-nav__container"> <a href=../index.html class="md-nav__link "> <span class=md-ellipsis> ayon_houdini </span> </a> <label class="md-nav__link " for=__nav_3_1_1 id=__nav_3_1_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_1_1_label aria-expanded=true> <label class=md-nav__title for=__nav_3_1_1> <span class="md-nav__icon md-icon"></span> ayon_houdini </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../addon.html class=md-nav__link> <span class=md-ellipsis> addon </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1_1_2 checked> <div class="md-nav__link md-nav__container"> <a href=index.html class="md-nav__link "> <span class=md-ellipsis> api </span> </a> <label class="md-nav__link " for=__nav_3_1_1_2 id=__nav_3_1_1_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_3_1_1_2_label aria-expanded=true> <label class=md-nav__title for=__nav_3_1_1_2> <span class="md-nav__icon md-icon"></span> api </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=action.html class=md-nav__link> <span class=md-ellipsis> action </span> </a> </li> <li class=md-nav__item> <a href=colorspace.html class=md-nav__link> <span class=md-ellipsis> colorspace </span> </a> </li> <li class=md-nav__item> <a href=creator_node_shelves.html class=md-nav__link> <span class=md-ellipsis> creator_node_shelves </span> </a> </li> <li class=md-nav__item> <a href=hda_utils.html class=md-nav__link> <span class=md-ellipsis> hda_utils </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> lib </span> <span class="md-nav__icon md-icon"></span> </label> <a href=lib.html class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> lib </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib class=md-nav__link> <span class=md-ellipsis> lib </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.add_self_publish_button class=md-nav__link> <span class=md-ellipsis> add_self_publish_button </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.connect_file_parm_to_loader class=md-nav__link> <span class=md-ellipsis> connect_file_parm_to_loader </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.context_options class=md-nav__link> <span class=md-ellipsis> context_options </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.find_active_network class=md-nav__link> <span class=md-ellipsis> find_active_network </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.find_rop_input_dependencies class=md-nav__link> <span class=md-ellipsis> find_rop_input_dependencies </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.format_as_collections class=md-nav__link> <span class=md-ellipsis> format_as_collections </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.get_background_images class=md-nav__link> <span class=md-ellipsis> get_background_images </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.get_camera_from_container class=md-nav__link> <span class=md-ellipsis> get_camera_from_container </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.get_color_management_preferences class=md-nav__link> <span class=md-ellipsis> get_color_management_preferences </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.get_context_var_changes class=md-nav__link> <span class=md-ellipsis> get_context_var_changes </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.get_current_context_template_data_with_entity_attrs class=md-nav__link> <span class=md-ellipsis> get_current_context_template_data_with_entity_attrs </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.get_entity_fps class=md-nav__link> <span class=md-ellipsis> get_entity_fps </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.get_frame_data class=md-nav__link> <span class=md-ellipsis> get_frame_data </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.get_lops_rop_context_options class=md-nav__link> <span class=md-ellipsis> get_lops_rop_context_options </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.get_main_window class=md-nav__link> <span class=md-ellipsis> get_main_window </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.get_node_thumbnail class=md-nav__link> <span class=md-ellipsis> get_node_thumbnail </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.get_obj_node_output class=md-nav__link> <span class=md-ellipsis> get_obj_node_output </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.get_output_children class=md-nav__link> <span class=md-ellipsis> get_output_children </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.get_output_parameter class=md-nav__link> <span class=md-ellipsis> get_output_parameter </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.get_resolution_from_entity class=md-nav__link> <span class=md-ellipsis> get_resolution_from_entity </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.get_scene_viewer class=md-nav__link> <span class=md-ellipsis> get_scene_viewer </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.imprint class=md-nav__link> <span class=md-ellipsis> imprint </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.is_version_up_workfile_menu_enabled class=md-nav__link> <span class=md-ellipsis> is_version_up_workfile_menu_enabled </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.lsattr class=md-nav__link> <span class=md-ellipsis> lsattr </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.lsattrs class=md-nav__link> <span class=md-ellipsis> lsattrs </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.maintained_selection class=md-nav__link> <span class=md-ellipsis> maintained_selection </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.parm_values class=md-nav__link> <span class=md-ellipsis> parm_values </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.prompt_reset_context class=md-nav__link> <span class=md-ellipsis> prompt_reset_context </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.publisher_show_and_publish class=md-nav__link> <span class=md-ellipsis> publisher_show_and_publish </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.read class=md-nav__link> <span class=md-ellipsis> read </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.remove_all_thumbnails class=md-nav__link> <span class=md-ellipsis> remove_all_thumbnails </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.render_rop class=md-nav__link> <span class=md-ellipsis> render_rop </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.reset_framerange class=md-nav__link> <span class=md-ellipsis> reset_framerange </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.sceneview_snapshot class=md-nav__link> <span class=md-ellipsis> sceneview_snapshot </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.self_publish class=md-nav__link> <span class=md-ellipsis> self_publish </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.set_background_images class=md-nav__link> <span class=md-ellipsis> set_background_images </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.set_camera_resolution class=md-nav__link> <span class=md-ellipsis> set_camera_resolution </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.set_node_thumbnail class=md-nav__link> <span class=md-ellipsis> set_node_thumbnail </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.set_review_color_space class=md-nav__link> <span class=md-ellipsis> set_review_color_space </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.show_node_parmeditor class=md-nav__link> <span class=md-ellipsis> show_node_parmeditor </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.splitext class=md-nav__link> <span class=md-ellipsis> splitext </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.update_content_on_context_change class=md-nav__link> <span class=md-ellipsis> update_content_on_context_change </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.update_houdini_vars_context class=md-nav__link> <span class=md-ellipsis> update_houdini_vars_context </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.update_houdini_vars_context_dialog class=md-nav__link> <span class=md-ellipsis> update_houdini_vars_context_dialog </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.validate_fps class=md-nav__link> <span class=md-ellipsis> validate_fps </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=pipeline.html class=md-nav__link> <span class=md-ellipsis> pipeline </span> </a> </li> <li class=md-nav__item> <a href=plugin.html class=md-nav__link> <span class=md-ellipsis> plugin </span> </a> </li> <li class=md-nav__item> <a href=shelves.html class=md-nav__link> <span class=md-ellipsis> shelves </span> </a> </li> <li class=md-nav__item> <a href=usd.html class=md-nav__link> <span class=md-ellipsis> usd </span> </a> </li> <li class=md-nav__item> <a href=workfile_template_builder.html class=md-nav__link> <span class=md-ellipsis> workfile_template_builder </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../hooks/set_default_display_and_view.html class=md-nav__link> <span class=md-ellipsis> hooks </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../plugins/create/convert_legacy.html class=md-nav__link> <span class=md-ellipsis> plugins </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../startup/husdplugins/outputprocessors/ayon_uri_processor.html class=md-nav__link> <span class=md-ellipsis> startup </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=../version.html class=md-nav__link> <span class=md-ellipsis> version </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../server/settings/create.html class=md-nav__link> <span class=md-ellipsis> server </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib class=md-nav__link> <span class=md-ellipsis> lib </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.add_self_publish_button class=md-nav__link> <span class=md-ellipsis> add_self_publish_button </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.connect_file_parm_to_loader class=md-nav__link> <span class=md-ellipsis> connect_file_parm_to_loader </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.context_options class=md-nav__link> <span class=md-ellipsis> context_options </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.find_active_network class=md-nav__link> <span class=md-ellipsis> find_active_network </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.find_rop_input_dependencies class=md-nav__link> <span class=md-ellipsis> find_rop_input_dependencies </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.format_as_collections class=md-nav__link> <span class=md-ellipsis> format_as_collections </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.get_background_images class=md-nav__link> <span class=md-ellipsis> get_background_images </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.get_camera_from_container class=md-nav__link> <span class=md-ellipsis> get_camera_from_container </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.get_color_management_preferences class=md-nav__link> <span class=md-ellipsis> get_color_management_preferences </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.get_context_var_changes class=md-nav__link> <span class=md-ellipsis> get_context_var_changes </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.get_current_context_template_data_with_entity_attrs class=md-nav__link> <span class=md-ellipsis> get_current_context_template_data_with_entity_attrs </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.get_entity_fps class=md-nav__link> <span class=md-ellipsis> get_entity_fps </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.get_frame_data class=md-nav__link> <span class=md-ellipsis> get_frame_data </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.get_lops_rop_context_options class=md-nav__link> <span class=md-ellipsis> get_lops_rop_context_options </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.get_main_window class=md-nav__link> <span class=md-ellipsis> get_main_window </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.get_node_thumbnail class=md-nav__link> <span class=md-ellipsis> get_node_thumbnail </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.get_obj_node_output class=md-nav__link> <span class=md-ellipsis> get_obj_node_output </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.get_output_children class=md-nav__link> <span class=md-ellipsis> get_output_children </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.get_output_parameter class=md-nav__link> <span class=md-ellipsis> get_output_parameter </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.get_resolution_from_entity class=md-nav__link> <span class=md-ellipsis> get_resolution_from_entity </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.get_scene_viewer class=md-nav__link> <span class=md-ellipsis> get_scene_viewer </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.imprint class=md-nav__link> <span class=md-ellipsis> imprint </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.is_version_up_workfile_menu_enabled class=md-nav__link> <span class=md-ellipsis> is_version_up_workfile_menu_enabled </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.lsattr class=md-nav__link> <span class=md-ellipsis> lsattr </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.lsattrs class=md-nav__link> <span class=md-ellipsis> lsattrs </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.maintained_selection class=md-nav__link> <span class=md-ellipsis> maintained_selection </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.parm_values class=md-nav__link> <span class=md-ellipsis> parm_values </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.prompt_reset_context class=md-nav__link> <span class=md-ellipsis> prompt_reset_context </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.publisher_show_and_publish class=md-nav__link> <span class=md-ellipsis> publisher_show_and_publish </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.read class=md-nav__link> <span class=md-ellipsis> read </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.remove_all_thumbnails class=md-nav__link> <span class=md-ellipsis> remove_all_thumbnails </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.render_rop class=md-nav__link> <span class=md-ellipsis> render_rop </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.reset_framerange class=md-nav__link> <span class=md-ellipsis> reset_framerange </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.sceneview_snapshot class=md-nav__link> <span class=md-ellipsis> sceneview_snapshot </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.self_publish class=md-nav__link> <span class=md-ellipsis> self_publish </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.set_background_images class=md-nav__link> <span class=md-ellipsis> set_background_images </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.set_camera_resolution class=md-nav__link> <span class=md-ellipsis> set_camera_resolution </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.set_node_thumbnail class=md-nav__link> <span class=md-ellipsis> set_node_thumbnail </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.set_review_color_space class=md-nav__link> <span class=md-ellipsis> set_review_color_space </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.show_node_parmeditor class=md-nav__link> <span class=md-ellipsis> show_node_parmeditor </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.splitext class=md-nav__link> <span class=md-ellipsis> splitext </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.update_content_on_context_change class=md-nav__link> <span class=md-ellipsis> update_content_on_context_change </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.update_houdini_vars_context class=md-nav__link> <span class=md-ellipsis> update_houdini_vars_context </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.update_houdini_vars_context_dialog class=md-nav__link> <span class=md-ellipsis> update_houdini_vars_context_dialog </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_houdini.api.lib.validate_fps class=md-nav__link> <span class=md-ellipsis> validate_fps </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1>lib</h1> <div class="doc doc-object doc-module"> <a id=client.ayon_houdini.api.lib></a> <div class="doc doc-contents first"> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.add_self_publish_button class="doc doc-heading"> <code class="highlight language-python"><span class=n>add_self_publish_button</span><span class=p>(</span><span class=n>node</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Adds a self publish button to the rop node.</p> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1119</span>
<span class=normal>1120</span>
<span class=normal>1121</span>
<span class=normal>1122</span>
<span class=normal>1123</span>
<span class=normal>1124</span>
<span class=normal>1125</span>
<span class=normal>1126</span>
<span class=normal>1127</span>
<span class=normal>1128</span>
<span class=normal>1129</span>
<span class=normal>1130</span>
<span class=normal>1131</span>
<span class=normal>1132</span>
<span class=normal>1133</span>
<span class=normal>1134</span>
<span class=normal>1135</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>add_self_publish_button</span><span class=p>(</span><span class=n>node</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Adds a self publish button to the rop node.&quot;&quot;&quot;</span>

    <span class=n>label</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;AYON_MENU_LABEL&quot;</span><span class=p>)</span> <span class=ow>or</span> <span class=s2>&quot;AYON&quot;</span>

    <span class=n>button_parm</span> <span class=o>=</span> <span class=n>hou</span><span class=o>.</span><span class=n>ButtonParmTemplate</span><span class=p>(</span>
        <span class=s2>&quot;ayon_self_publish&quot;</span><span class=p>,</span>
        <span class=s2>&quot;</span><span class=si>{}</span><span class=s2> Publish&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>label</span><span class=p>),</span>
        <span class=n>script_callback</span><span class=o>=</span><span class=s2>&quot;from ayon_houdini.api.lib import &quot;</span>
                        <span class=s2>&quot;self_publish; self_publish()&quot;</span><span class=p>,</span>
        <span class=n>script_callback_language</span><span class=o>=</span><span class=n>hou</span><span class=o>.</span><span class=n>scriptLanguage</span><span class=o>.</span><span class=n>Python</span><span class=p>,</span>
        <span class=n>join_with_next</span><span class=o>=</span><span class=kc>True</span>
    <span class=p>)</span>

    <span class=n>template</span> <span class=o>=</span> <span class=n>node</span><span class=o>.</span><span class=n>parmTemplateGroup</span><span class=p>()</span>
    <span class=n>template</span><span class=o>.</span><span class=n>insertBefore</span><span class=p>((</span><span class=mi>0</span><span class=p>,),</span> <span class=n>button_parm</span><span class=p>)</span>
    <span class=n>node</span><span class=o>.</span><span class=n>setParmTemplateGroup</span><span class=p>(</span><span class=n>template</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.connect_file_parm_to_loader class="doc doc-heading"> <code class="highlight language-python"><span class=n>connect_file_parm_to_loader</span><span class=p>(</span><span class=n>file_parm</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Connect the given file parm to a generic loader. If the parm is already connected to a generic loader node, go to that node.</p> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1568</span>
<span class=normal>1569</span>
<span class=normal>1570</span>
<span class=normal>1571</span>
<span class=normal>1572</span>
<span class=normal>1573</span>
<span class=normal>1574</span>
<span class=normal>1575</span>
<span class=normal>1576</span>
<span class=normal>1577</span>
<span class=normal>1578</span>
<span class=normal>1579</span>
<span class=normal>1580</span>
<span class=normal>1581</span>
<span class=normal>1582</span>
<span class=normal>1583</span>
<span class=normal>1584</span>
<span class=normal>1585</span>
<span class=normal>1586</span>
<span class=normal>1587</span>
<span class=normal>1588</span>
<span class=normal>1589</span>
<span class=normal>1590</span>
<span class=normal>1591</span>
<span class=normal>1592</span>
<span class=normal>1593</span>
<span class=normal>1594</span>
<span class=normal>1595</span>
<span class=normal>1596</span>
<span class=normal>1597</span>
<span class=normal>1598</span>
<span class=normal>1599</span>
<span class=normal>1600</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>connect_file_parm_to_loader</span><span class=p>(</span><span class=n>file_parm</span><span class=p>:</span> <span class=n>hou</span><span class=o>.</span><span class=n>Parm</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Connect the given file parm to a generic loader.</span>
<span class=sd>    If the parm is already connected to a generic loader node, go to that node.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=kn>from</span><span class=w> </span><span class=nn>.pipeline</span><span class=w> </span><span class=kn>import</span> <span class=n>get_or_create_avalon_container</span>

    <span class=n>referenced_parm</span> <span class=o>=</span> <span class=n>file_parm</span><span class=o>.</span><span class=n>getReferencedParm</span><span class=p>()</span>

    <span class=c1># If the parm has reference</span>
    <span class=k>if</span> <span class=n>file_parm</span> <span class=o>!=</span> <span class=n>referenced_parm</span><span class=p>:</span>
        <span class=n>referenced_node</span> <span class=o>=</span> <span class=n>referenced_parm</span><span class=o>.</span><span class=n>getReferencedParm</span><span class=p>()</span><span class=o>.</span><span class=n>node</span><span class=p>()</span>
        <span class=k>if</span> <span class=n>referenced_node</span><span class=o>.</span><span class=n>type</span><span class=p>()</span><span class=o>.</span><span class=n>name</span><span class=p>()</span> <span class=o>==</span> <span class=s2>&quot;ayon::generic_loader::1.0&quot;</span><span class=p>:</span>
            <span class=n>show_node_parmeditor</span><span class=p>(</span><span class=n>referenced_node</span><span class=p>)</span>
            <span class=k>return</span>

    <span class=c1># Create a generic loader node and reference its file parm</span>
    <span class=n>main_container</span> <span class=o>=</span> <span class=n>get_or_create_avalon_container</span><span class=p>()</span>

    <span class=n>node_name</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>file_parm</span><span class=o>.</span><span class=n>node</span><span class=p>()</span><span class=o>.</span><span class=n>name</span><span class=p>()</span><span class=si>}</span><span class=s2>_</span><span class=si>{</span><span class=n>file_parm</span><span class=o>.</span><span class=n>name</span><span class=p>()</span><span class=si>}</span><span class=s2>_loader&quot;</span>
    <span class=n>load_node</span> <span class=o>=</span> <span class=n>main_container</span><span class=o>.</span><span class=n>createNode</span><span class=p>(</span><span class=s2>&quot;ayon::generic_loader&quot;</span><span class=p>,</span>
                                          <span class=n>node_name</span><span class=o>=</span><span class=n>node_name</span><span class=p>)</span>
    <span class=n>load_node</span><span class=o>.</span><span class=n>moveToGoodPosition</span><span class=p>()</span>

    <span class=c1># Set relative reference via hscript. This avoids the issues of</span>
    <span class=c1># `setExpression` e.g. having a keyframe.</span>
    <span class=n>relative_path</span> <span class=o>=</span> <span class=n>file_parm</span><span class=o>.</span><span class=n>node</span><span class=p>()</span><span class=o>.</span><span class=n>relativePathTo</span><span class=p>(</span><span class=n>load_node</span><span class=p>)</span>
    <span class=n>expression</span> <span class=o>=</span> <span class=sa>rf</span><span class=s1>&#39;chs\(\&quot;</span><span class=si>{</span><span class=n>relative_path</span><span class=si>}</span><span class=s1>/file\&quot;\)&#39;</span>  <span class=c1># noqa</span>
    <span class=n>hou</span><span class=o>.</span><span class=n>hscript</span><span class=p>(</span>
        <span class=s1>&#39;opparm -r&#39;</span>
        <span class=sa>f</span><span class=s1>&#39; </span><span class=si>{</span><span class=n>file_parm</span><span class=o>.</span><span class=n>node</span><span class=p>()</span><span class=o>.</span><span class=n>path</span><span class=p>()</span><span class=si>}</span><span class=s1> </span><span class=si>{</span><span class=n>file_parm</span><span class=o>.</span><span class=n>name</span><span class=p>()</span><span class=si>}</span><span class=s1> </span><span class=se>\\</span><span class=s1>`</span><span class=si>{</span><span class=n>expression</span><span class=si>}</span><span class=se>\\</span><span class=s1>`&#39;</span>
    <span class=p>)</span>
    <span class=n>show_node_parmeditor</span><span class=p>(</span><span class=n>load_node</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.context_options class="doc doc-heading"> <code class="highlight language-python"><span class=n>context_options</span><span class=p>(</span><span class=n>context_options</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Context manager to set Solaris Context Options.</p> <p>The original context options are restored after the context exits.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>context_options</code> </td> <td> <code><span title=dict>dict</span>[<span title=str>str</span>, <span title=str>str</span> | <span title=float>float</span>]</code> </td> <td> <div class=doc-md-description> <p>The Solaris Context Options to set.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Yields:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>dict[str, str | float]: The original context options that were changed.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>170</span>
<span class=normal>171</span>
<span class=normal>172</span>
<span class=normal>173</span>
<span class=normal>174</span>
<span class=normal>175</span>
<span class=normal>176</span>
<span class=normal>177</span>
<span class=normal>178</span>
<span class=normal>179</span>
<span class=normal>180</span>
<span class=normal>181</span>
<span class=normal>182</span>
<span class=normal>183</span>
<span class=normal>184</span>
<span class=normal>185</span>
<span class=normal>186</span>
<span class=normal>187</span>
<span class=normal>188</span>
<span class=normal>189</span>
<span class=normal>190</span>
<span class=normal>191</span>
<span class=normal>192</span>
<span class=normal>193</span>
<span class=normal>194</span>
<span class=normal>195</span>
<span class=normal>196</span>
<span class=normal>197</span>
<span class=normal>198</span>
<span class=normal>199</span>
<span class=normal>200</span>
<span class=normal>201</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nd>@contextmanager</span>
<span class=k>def</span><span class=w> </span><span class=nf>context_options</span><span class=p>(</span><span class=n>context_options</span><span class=p>:</span> <span class=s2>&quot;dict[str, str | float]&quot;</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Context manager to set Solaris Context Options.</span>

<span class=sd>    The original context options are restored after the context exits.</span>

<span class=sd>    Arguments:</span>
<span class=sd>        context_options (dict[str, str | float]):</span>
<span class=sd>            The Solaris Context Options to set.</span>

<span class=sd>    Yields:</span>
<span class=sd>        dict[str, str | float]: The original context options that were changed.</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=c1># Get the original context options and their values</span>
    <span class=n>original_context_options</span><span class=p>:</span> <span class=s2>&quot;dict[str, str | float]&quot;</span> <span class=o>=</span> <span class=p>{}</span>
    <span class=k>for</span> <span class=n>name</span> <span class=ow>in</span> <span class=n>hou</span><span class=o>.</span><span class=n>contextOptionNames</span><span class=p>():</span>
        <span class=n>original_context_options</span><span class=p>[</span><span class=n>name</span><span class=p>]</span> <span class=o>=</span> <span class=n>hou</span><span class=o>.</span><span class=n>contextOption</span><span class=p>(</span><span class=n>name</span><span class=p>)</span>

    <span class=k>try</span><span class=p>:</span>
        <span class=c1># Override the context options</span>
        <span class=k>for</span> <span class=n>name</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>context_options</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
            <span class=n>hou</span><span class=o>.</span><span class=n>setContextOption</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>value</span><span class=p>)</span>
        <span class=k>yield</span> <span class=n>original_context_options</span>
    <span class=k>finally</span><span class=p>:</span>
        <span class=c1># Restore original context options that we changed</span>
        <span class=k>for</span> <span class=n>name</span> <span class=ow>in</span> <span class=n>context_options</span><span class=p>:</span>
            <span class=k>if</span> <span class=n>name</span> <span class=ow>in</span> <span class=n>original_context_options</span><span class=p>:</span>
                <span class=n>hou</span><span class=o>.</span><span class=n>setContextOption</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>original_context_options</span><span class=p>[</span><span class=n>name</span><span class=p>])</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=c1># Clear context option</span>
                <span class=n>hou</span><span class=o>.</span><span class=n>setContextOption</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.find_active_network class="doc doc-heading"> <code class="highlight language-python"><span class=n>find_active_network</span><span class=p>(</span><span class=n>category</span><span class=p>,</span> <span class=n>default</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Find the first active network editor in the UI.</p> <p>If no active network editor pane is found at the given category then the <code>default</code> path will be used as fallback.</p> <p>For example, to find an active LOPs network:</p> <blockquote> <blockquote> <blockquote> <p>network = find_active_network( ... category=hou.lopNodeTypeCategory(), ... fallback="/stage" ... ) hou.Node("/stage/lopnet1")</p> </blockquote> </blockquote> </blockquote> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>category</code> </td> <td> <code><span title=hou.NodeTypeCategory>NodeTypeCategory</span></code> </td> <td> <div class=doc-md-description> <p>The node network category type.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>default</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>The default path to fallback to if no active pane is found with the given category, e.g. "/obj"</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>hou.Node: The node network to return.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1399</span>
<span class=normal>1400</span>
<span class=normal>1401</span>
<span class=normal>1402</span>
<span class=normal>1403</span>
<span class=normal>1404</span>
<span class=normal>1405</span>
<span class=normal>1406</span>
<span class=normal>1407</span>
<span class=normal>1408</span>
<span class=normal>1409</span>
<span class=normal>1410</span>
<span class=normal>1411</span>
<span class=normal>1412</span>
<span class=normal>1413</span>
<span class=normal>1414</span>
<span class=normal>1415</span>
<span class=normal>1416</span>
<span class=normal>1417</span>
<span class=normal>1418</span>
<span class=normal>1419</span>
<span class=normal>1420</span>
<span class=normal>1421</span>
<span class=normal>1422</span>
<span class=normal>1423</span>
<span class=normal>1424</span>
<span class=normal>1425</span>
<span class=normal>1426</span>
<span class=normal>1427</span>
<span class=normal>1428</span>
<span class=normal>1429</span>
<span class=normal>1430</span>
<span class=normal>1431</span>
<span class=normal>1432</span>
<span class=normal>1433</span>
<span class=normal>1434</span>
<span class=normal>1435</span>
<span class=normal>1436</span>
<span class=normal>1437</span>
<span class=normal>1438</span>
<span class=normal>1439</span>
<span class=normal>1440</span>
<span class=normal>1441</span>
<span class=normal>1442</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>find_active_network</span><span class=p>(</span><span class=n>category</span><span class=p>,</span> <span class=n>default</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Find the first active network editor in the UI.</span>

<span class=sd>    If no active network editor pane is found at the given category then the</span>
<span class=sd>    `default` path will be used as fallback.</span>

<span class=sd>    For example, to find an active LOPs network:</span>
<span class=sd>    &gt;&gt;&gt; network = find_active_network(</span>
<span class=sd>    ...     category=hou.lopNodeTypeCategory(),</span>
<span class=sd>    ...     fallback=&quot;/stage&quot;</span>
<span class=sd>    ... )</span>
<span class=sd>    hou.Node(&quot;/stage/lopnet1&quot;)</span>

<span class=sd>    Arguments:</span>
<span class=sd>        category (hou.NodeTypeCategory): The node network category type.</span>
<span class=sd>        default (str): The default path to fallback to if no active pane</span>
<span class=sd>            is found with the given category, e.g. &quot;/obj&quot;</span>

<span class=sd>    Returns:</span>
<span class=sd>        hou.Node: The node network to return.</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=c1># Find network editors that are current tab of given category</span>
    <span class=n>index</span> <span class=o>=</span> <span class=mi>0</span>
    <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
        <span class=n>pane</span> <span class=o>=</span> <span class=n>hou</span><span class=o>.</span><span class=n>ui</span><span class=o>.</span><span class=n>paneTabOfType</span><span class=p>(</span><span class=n>hou</span><span class=o>.</span><span class=n>paneTabType</span><span class=o>.</span><span class=n>NetworkEditor</span><span class=p>,</span> <span class=n>index</span><span class=p>)</span>
        <span class=k>if</span> <span class=n>pane</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>break</span>

        <span class=n>index</span> <span class=o>+=</span> <span class=mi>1</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=n>pane</span><span class=o>.</span><span class=n>isCurrentTab</span><span class=p>():</span>
            <span class=k>continue</span>

        <span class=n>pwd</span> <span class=o>=</span> <span class=n>pane</span><span class=o>.</span><span class=n>pwd</span><span class=p>()</span>
        <span class=k>if</span> <span class=n>pwd</span><span class=o>.</span><span class=n>type</span><span class=p>()</span><span class=o>.</span><span class=n>category</span><span class=p>()</span> <span class=o>!=</span> <span class=n>category</span><span class=p>:</span>
            <span class=k>continue</span>

        <span class=k>if</span> <span class=ow>not</span> <span class=n>pwd</span><span class=o>.</span><span class=n>isEditable</span><span class=p>():</span>
            <span class=k>continue</span>

        <span class=k>return</span> <span class=n>pwd</span>

    <span class=c1># Default to the fallback if no valid candidate was found</span>
    <span class=k>return</span> <span class=n>hou</span><span class=o>.</span><span class=n>node</span><span class=p>(</span><span class=n>default</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.find_rop_input_dependencies class="doc doc-heading"> <code class="highlight language-python"><span class=n>find_rop_input_dependencies</span><span class=p>(</span><span class=n>input_tuple</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Self publish from ROP nodes.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>list of the RopNode.path() that can be found inside</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>the input tuple.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1059</span>
<span class=normal>1060</span>
<span class=normal>1061</span>
<span class=normal>1062</span>
<span class=normal>1063</span>
<span class=normal>1064</span>
<span class=normal>1065</span>
<span class=normal>1066</span>
<span class=normal>1067</span>
<span class=normal>1068</span>
<span class=normal>1069</span>
<span class=normal>1070</span>
<span class=normal>1071</span>
<span class=normal>1072</span>
<span class=normal>1073</span>
<span class=normal>1074</span>
<span class=normal>1075</span>
<span class=normal>1076</span>
<span class=normal>1077</span>
<span class=normal>1078</span>
<span class=normal>1079</span>
<span class=normal>1080</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>find_rop_input_dependencies</span><span class=p>(</span><span class=n>input_tuple</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Self publish from ROP nodes.</span>

<span class=sd>    Arguments:</span>
<span class=sd>        tuple (hou.RopNode.inputDependencies) which can be a nested tuples</span>
<span class=sd>        represents the input dependencies of the ROP node, consisting of ROPs,</span>
<span class=sd>        and the frames that need to be be rendered prior to rendering the ROP.</span>

<span class=sd>    Returns:</span>
<span class=sd>        list of the RopNode.path() that can be found inside</span>
<span class=sd>        the input tuple.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=n>out_list</span> <span class=o>=</span> <span class=p>[]</span>
    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>input_tuple</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span> <span class=n>hou</span><span class=o>.</span><span class=n>RopNode</span><span class=p>):</span>
        <span class=k>return</span> <span class=n>input_tuple</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>path</span><span class=p>()</span>

    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>input_tuple</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span> <span class=nb>tuple</span><span class=p>):</span>
        <span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>input_tuple</span><span class=p>:</span>
            <span class=n>out_list</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>find_rop_input_dependencies</span><span class=p>(</span><span class=n>item</span><span class=p>))</span>

    <span class=k>return</span> <span class=n>out_list</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.format_as_collections class="doc doc-heading"> <code class="highlight language-python"><span class=n>format_as_collections</span><span class=p>(</span><span class=n>files</span><span class=p>,</span> <span class=n>pattern</span><span class=o>=</span><span class=s1>&#39;</span><span class=si>{head}{padding}{tail}</span><span class=s1> [</span><span class=si>{ranges}</span><span class=s1>]&#39;</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Return list of files as formatted sequence collections.</p> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1620</span>
<span class=normal>1621</span>
<span class=normal>1622</span>
<span class=normal>1623</span>
<span class=normal>1624</span>
<span class=normal>1625</span>
<span class=normal>1626</span>
<span class=normal>1627</span>
<span class=normal>1628</span>
<span class=normal>1629</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>format_as_collections</span><span class=p>(</span>
    <span class=n>files</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>],</span>
    <span class=n>pattern</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;</span><span class=si>{head}{padding}{tail}</span><span class=s2> [</span><span class=si>{ranges}</span><span class=s2>]&quot;</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return list of files as formatted sequence collections.&quot;&quot;&quot;</span>

    <span class=n>collections</span><span class=p>,</span> <span class=n>remainder</span> <span class=o>=</span> <span class=n>clique</span><span class=o>.</span><span class=n>assemble</span><span class=p>(</span><span class=n>files</span><span class=p>)</span>
    <span class=n>result</span> <span class=o>=</span> <span class=p>[</span><span class=n>collection</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>pattern</span><span class=p>)</span> <span class=k>for</span> <span class=n>collection</span> <span class=ow>in</span> <span class=n>collections</span><span class=p>]</span>
    <span class=n>result</span><span class=o>.</span><span class=n>extend</span><span class=p>(</span><span class=n>remainder</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>result</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.get_background_images class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_background_images</span><span class=p>(</span><span class=n>node</span><span class=p>,</span> <span class=n>raw</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>"Return background images defined inside node.</p> <p>Similar to <code>nodegraphutils.saveBackgroundImages</code> but this method also allows to retrieve the data as JSON encodable data instead of <code>hou.NetworkImage</code> instances when using <code>raw=True</code></p> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1220</span>
<span class=normal>1221</span>
<span class=normal>1222</span>
<span class=normal>1223</span>
<span class=normal>1224</span>
<span class=normal>1225</span>
<span class=normal>1226</span>
<span class=normal>1227</span>
<span class=normal>1228</span>
<span class=normal>1229</span>
<span class=normal>1230</span>
<span class=normal>1231</span>
<span class=normal>1232</span>
<span class=normal>1233</span>
<span class=normal>1234</span>
<span class=normal>1235</span>
<span class=normal>1236</span>
<span class=normal>1237</span>
<span class=normal>1238</span>
<span class=normal>1239</span>
<span class=normal>1240</span>
<span class=normal>1241</span>
<span class=normal>1242</span>
<span class=normal>1243</span>
<span class=normal>1244</span>
<span class=normal>1245</span>
<span class=normal>1246</span>
<span class=normal>1247</span>
<span class=normal>1248</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_background_images</span><span class=p>(</span><span class=n>node</span><span class=p>,</span> <span class=n>raw</span><span class=o>=</span><span class=kc>False</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;&quot;Return background images defined inside node.</span>

<span class=sd>    Similar to `nodegraphutils.saveBackgroundImages` but this method also</span>
<span class=sd>    allows to retrieve the data as JSON encodable data instead of</span>
<span class=sd>    `hou.NetworkImage` instances when using `raw=True`</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_parse</span><span class=p>(</span><span class=n>image_data</span><span class=p>):</span>
        <span class=n>image</span> <span class=o>=</span> <span class=n>hou</span><span class=o>.</span><span class=n>NetworkImage</span><span class=p>(</span><span class=n>image_data</span><span class=p>[</span><span class=s2>&quot;path&quot;</span><span class=p>],</span>
                                 <span class=n>hou</span><span class=o>.</span><span class=n>BoundingRect</span><span class=p>(</span><span class=o>*</span><span class=n>image_data</span><span class=p>[</span><span class=s2>&quot;rect&quot;</span><span class=p>]))</span>
        <span class=k>if</span> <span class=s2>&quot;relativetopath&quot;</span> <span class=ow>in</span> <span class=n>image_data</span><span class=p>:</span>
            <span class=n>image</span><span class=o>.</span><span class=n>setRelativeToPath</span><span class=p>(</span><span class=n>image_data</span><span class=p>[</span><span class=s2>&quot;relativetopath&quot;</span><span class=p>])</span>
        <span class=k>if</span> <span class=s2>&quot;brightness&quot;</span> <span class=ow>in</span> <span class=n>image_data</span><span class=p>:</span>
            <span class=n>image</span><span class=o>.</span><span class=n>setBrightness</span><span class=p>(</span><span class=n>image_data</span><span class=p>[</span><span class=s2>&quot;brightness&quot;</span><span class=p>])</span>
        <span class=k>return</span> <span class=n>image</span>

    <span class=n>data</span> <span class=o>=</span> <span class=n>node</span><span class=o>.</span><span class=n>userData</span><span class=p>(</span><span class=s2>&quot;backgroundimages&quot;</span><span class=p>)</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=n>data</span><span class=p>:</span>
        <span class=k>return</span> <span class=p>[]</span>

    <span class=k>try</span><span class=p>:</span>
        <span class=n>images</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>loads</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>
    <span class=k>except</span> <span class=n>json</span><span class=o>.</span><span class=n>decoder</span><span class=o>.</span><span class=n>JSONDecodeError</span><span class=p>:</span>
        <span class=n>images</span> <span class=o>=</span> <span class=p>[]</span>

    <span class=k>if</span> <span class=ow>not</span> <span class=n>raw</span><span class=p>:</span>
        <span class=n>images</span> <span class=o>=</span> <span class=p>[</span><span class=n>_parse</span><span class=p>(</span><span class=n>_data</span><span class=p>)</span> <span class=k>for</span> <span class=n>_data</span> <span class=ow>in</span> <span class=n>images</span><span class=p>]</span>
    <span class=k>return</span> <span class=n>images</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.get_camera_from_container class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_camera_from_container</span><span class=p>(</span><span class=n>container</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Get camera from container node.</p> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>837</span>
<span class=normal>838</span>
<span class=normal>839</span>
<span class=normal>840</span>
<span class=normal>841</span>
<span class=normal>842</span>
<span class=normal>843</span>
<span class=normal>844</span>
<span class=normal>845</span>
<span class=normal>846</span>
<span class=normal>847</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_camera_from_container</span><span class=p>(</span><span class=n>container</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Get camera from container node. &quot;&quot;&quot;</span>

    <span class=n>cameras</span> <span class=o>=</span> <span class=n>container</span><span class=o>.</span><span class=n>recursiveGlob</span><span class=p>(</span>
        <span class=s2>&quot;*&quot;</span><span class=p>,</span>
        <span class=nb>filter</span><span class=o>=</span><span class=n>hou</span><span class=o>.</span><span class=n>nodeTypeFilter</span><span class=o>.</span><span class=n>ObjCamera</span><span class=p>,</span>
        <span class=n>include_subnets</span><span class=o>=</span><span class=kc>False</span>
    <span class=p>)</span>

    <span class=k>assert</span> <span class=nb>len</span><span class=p>(</span><span class=n>cameras</span><span class=p>)</span> <span class=o>==</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&quot;Camera instance must have only one camera&quot;</span>
    <span class=k>return</span> <span class=n>cameras</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.get_color_management_preferences class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_color_management_preferences</span><span class=p>()</span></code> </h2> <div class="doc doc-contents "> <p>Get default OCIO preferences</p> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>701</span>
<span class=normal>702</span>
<span class=normal>703</span>
<span class=normal>704</span>
<span class=normal>705</span>
<span class=normal>706</span>
<span class=normal>707</span>
<span class=normal>708</span>
<span class=normal>709</span>
<span class=normal>710</span>
<span class=normal>711</span>
<span class=normal>712</span>
<span class=normal>713</span>
<span class=normal>714</span>
<span class=normal>715</span>
<span class=normal>716</span>
<span class=normal>717</span>
<span class=normal>718</span>
<span class=normal>719</span>
<span class=normal>720</span>
<span class=normal>721</span>
<span class=normal>722</span>
<span class=normal>723</span>
<span class=normal>724</span>
<span class=normal>725</span>
<span class=normal>726</span>
<span class=normal>727</span>
<span class=normal>728</span>
<span class=normal>729</span>
<span class=normal>730</span>
<span class=normal>731</span>
<span class=normal>732</span>
<span class=normal>733</span>
<span class=normal>734</span>
<span class=normal>735</span>
<span class=normal>736</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_color_management_preferences</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Get default OCIO preferences&quot;&quot;&quot;</span>

    <span class=n>preferences</span> <span class=o>=</span> <span class=p>{</span>
        <span class=s2>&quot;config&quot;</span><span class=p>:</span> <span class=n>hou</span><span class=o>.</span><span class=n>Color</span><span class=o>.</span><span class=n>ocio_configPath</span><span class=p>(),</span>
        <span class=s2>&quot;display&quot;</span><span class=p>:</span> <span class=n>hou</span><span class=o>.</span><span class=n>Color</span><span class=o>.</span><span class=n>ocio_defaultDisplay</span><span class=p>(),</span>
        <span class=s2>&quot;view&quot;</span><span class=p>:</span> <span class=n>hou</span><span class=o>.</span><span class=n>Color</span><span class=o>.</span><span class=n>ocio_defaultView</span><span class=p>()</span>
    <span class=p>}</span>

    <span class=c1># Note: For whatever reason they are cases where `view` may be an empty</span>
    <span class=c1>#  string even though a valid default display is set where `PyOpenColorIO`</span>
    <span class=c1>#  does correctly return the values.</span>
    <span class=c1># Workaround to get the correct default view</span>
    <span class=k>if</span> <span class=n>preferences</span><span class=p>[</span><span class=s2>&quot;config&quot;</span><span class=p>]</span> <span class=ow>and</span> <span class=ow>not</span> <span class=n>preferences</span><span class=p>[</span><span class=s2>&quot;view&quot;</span><span class=p>]:</span>
        <span class=n>log</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span>
            <span class=s2>&quot;Houdini `hou.Color.ocio_defaultView()` returned empty value.&quot;</span>
            <span class=s2>&quot; Falling back to `PyOpenColorIO` to get the default view.&quot;</span><span class=p>)</span>
        <span class=k>try</span><span class=p>:</span>
            <span class=kn>import</span><span class=w> </span><span class=nn>PyOpenColorIO</span>
        <span class=k>except</span> <span class=ne>ImportError</span><span class=p>:</span>
            <span class=n>log</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span>
                <span class=s2>&quot;Unable to workaround empty return value of &quot;</span>
                <span class=s2>&quot;`hou.Color.ocio_defaultView()` because `PyOpenColorIO` is &quot;</span>
                <span class=s2>&quot;not available.&quot;</span><span class=p>)</span>
            <span class=k>return</span> <span class=n>preferences</span>

        <span class=n>config_path</span> <span class=o>=</span> <span class=n>preferences</span><span class=p>[</span><span class=s2>&quot;config&quot;</span><span class=p>]</span>
        <span class=n>config</span> <span class=o>=</span> <span class=n>PyOpenColorIO</span><span class=o>.</span><span class=n>Config</span><span class=o>.</span><span class=n>CreateFromFile</span><span class=p>(</span><span class=n>config_path</span><span class=p>)</span>
        <span class=n>display</span> <span class=o>=</span> <span class=n>config</span><span class=o>.</span><span class=n>getDefaultDisplay</span><span class=p>()</span>
        <span class=k>assert</span> <span class=n>display</span> <span class=o>==</span> <span class=n>preferences</span><span class=p>[</span><span class=s2>&quot;display&quot;</span><span class=p>],</span> \
            <span class=s2>&quot;Houdini default OCIO display must match config default display&quot;</span>
        <span class=n>view</span> <span class=o>=</span> <span class=n>config</span><span class=o>.</span><span class=n>getDefaultView</span><span class=p>(</span><span class=n>display</span><span class=p>)</span>
        <span class=n>preferences</span><span class=p>[</span><span class=s2>&quot;display&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>display</span>
        <span class=n>preferences</span><span class=p>[</span><span class=s2>&quot;view&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>view</span>

    <span class=k>return</span> <span class=n>preferences</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.get_context_var_changes class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_context_var_changes</span><span class=p>()</span></code> </h2> <div class="doc doc-contents "> <p>get context var changes.</p> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>948</span>
<span class=normal>949</span>
<span class=normal>950</span>
<span class=normal>951</span>
<span class=normal>952</span>
<span class=normal>953</span>
<span class=normal>954</span>
<span class=normal>955</span>
<span class=normal>956</span>
<span class=normal>957</span>
<span class=normal>958</span>
<span class=normal>959</span>
<span class=normal>960</span>
<span class=normal>961</span>
<span class=normal>962</span>
<span class=normal>963</span>
<span class=normal>964</span>
<span class=normal>965</span>
<span class=normal>966</span>
<span class=normal>967</span>
<span class=normal>968</span>
<span class=normal>969</span>
<span class=normal>970</span>
<span class=normal>971</span>
<span class=normal>972</span>
<span class=normal>973</span>
<span class=normal>974</span>
<span class=normal>975</span>
<span class=normal>976</span>
<span class=normal>977</span>
<span class=normal>978</span>
<span class=normal>979</span>
<span class=normal>980</span>
<span class=normal>981</span>
<span class=normal>982</span>
<span class=normal>983</span>
<span class=normal>984</span>
<span class=normal>985</span>
<span class=normal>986</span>
<span class=normal>987</span>
<span class=normal>988</span>
<span class=normal>989</span>
<span class=normal>990</span>
<span class=normal>991</span>
<span class=normal>992</span>
<span class=normal>993</span>
<span class=normal>994</span>
<span class=normal>995</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_context_var_changes</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;get context var changes.&quot;&quot;&quot;</span>

    <span class=n>houdini_vars_to_update</span> <span class=o>=</span> <span class=p>{}</span>

    <span class=n>project_settings</span> <span class=o>=</span> <span class=n>get_current_project_settings</span><span class=p>()</span>
    <span class=n>houdini_vars_settings</span> <span class=o>=</span> \
        <span class=n>project_settings</span><span class=p>[</span><span class=s2>&quot;houdini&quot;</span><span class=p>][</span><span class=s2>&quot;general&quot;</span><span class=p>][</span><span class=s2>&quot;update_houdini_var_context&quot;</span><span class=p>]</span>

    <span class=k>if</span> <span class=ow>not</span> <span class=n>houdini_vars_settings</span><span class=p>[</span><span class=s2>&quot;enabled&quot;</span><span class=p>]:</span>
        <span class=k>return</span> <span class=n>houdini_vars_to_update</span>

    <span class=n>houdini_vars</span> <span class=o>=</span> <span class=n>houdini_vars_settings</span><span class=p>[</span><span class=s2>&quot;houdini_vars&quot;</span><span class=p>]</span>

    <span class=c1># No vars specified - nothing to do</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=n>houdini_vars</span><span class=p>:</span>
        <span class=k>return</span> <span class=n>houdini_vars_to_update</span>

    <span class=c1># Get Template data</span>
    <span class=n>template_data</span> <span class=o>=</span> <span class=n>get_current_context_template_data_with_entity_attrs</span><span class=p>()</span>

    <span class=c1># Set Houdini Vars</span>
    <span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>houdini_vars</span><span class=p>:</span>
        <span class=c1># For consistency reasons we always force all vars to be uppercase</span>
        <span class=c1># Also remove any leading, and trailing whitespaces.</span>
        <span class=n>var</span> <span class=o>=</span> <span class=n>item</span><span class=p>[</span><span class=s2>&quot;var&quot;</span><span class=p>]</span><span class=o>.</span><span class=n>strip</span><span class=p>()</span><span class=o>.</span><span class=n>upper</span><span class=p>()</span>

        <span class=c1># get and resolve template in value</span>
        <span class=n>item_value</span> <span class=o>=</span> <span class=n>StringTemplate</span><span class=o>.</span><span class=n>format_template</span><span class=p>(</span>
            <span class=n>item</span><span class=p>[</span><span class=s2>&quot;value&quot;</span><span class=p>],</span>
            <span class=n>template_data</span>
        <span class=p>)</span>

        <span class=k>if</span> <span class=n>var</span> <span class=o>==</span> <span class=s2>&quot;JOB&quot;</span> <span class=ow>and</span> <span class=n>item_value</span> <span class=o>==</span> <span class=s2>&quot;&quot;</span><span class=p>:</span>
            <span class=c1># sync $JOB to $HIP if $JOB is empty</span>
            <span class=n>item_value</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=p>[</span><span class=s2>&quot;HIP&quot;</span><span class=p>]</span>

        <span class=k>if</span> <span class=n>item</span><span class=p>[</span><span class=s2>&quot;is_directory&quot;</span><span class=p>]:</span>
            <span class=n>item_value</span> <span class=o>=</span> <span class=n>item_value</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&quot;</span><span class=se>\\</span><span class=s2>&quot;</span><span class=p>,</span> <span class=s2>&quot;/&quot;</span><span class=p>)</span>

        <span class=n>current_value</span> <span class=o>=</span> <span class=n>hou</span><span class=o>.</span><span class=n>hscript</span><span class=p>(</span><span class=s2>&quot;echo -n `$</span><span class=si>{}</span><span class=s2>`&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>var</span><span class=p>))[</span><span class=mi>0</span><span class=p>]</span>

        <span class=k>if</span> <span class=n>current_value</span> <span class=o>!=</span> <span class=n>item_value</span><span class=p>:</span>
            <span class=n>houdini_vars_to_update</span><span class=p>[</span><span class=n>var</span><span class=p>]</span> <span class=o>=</span> <span class=p>(</span>
                <span class=n>current_value</span><span class=p>,</span> <span class=n>item_value</span><span class=p>,</span> <span class=n>item</span><span class=p>[</span><span class=s2>&quot;is_directory&quot;</span><span class=p>]</span>
            <span class=p>)</span>

    <span class=k>return</span> <span class=n>houdini_vars_to_update</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.get_current_context_template_data_with_entity_attrs class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_current_context_template_data_with_entity_attrs</span><span class=p>()</span></code> </h2> <div class="doc doc-contents "> <p>Return template data including current context folder and task attribs.</p> <details class=output-contains open> <summary>Output contains</summary> <ul> <li>Regular template data from <code>get_template_data</code></li> <li>'folderAttributes' key with folder attribute values.</li> <li>'taskAttributes' key with task attribute values.</li> </ul> </details> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>dict[str, Any]: Template data to fill templates.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>850</span>
<span class=normal>851</span>
<span class=normal>852</span>
<span class=normal>853</span>
<span class=normal>854</span>
<span class=normal>855</span>
<span class=normal>856</span>
<span class=normal>857</span>
<span class=normal>858</span>
<span class=normal>859</span>
<span class=normal>860</span>
<span class=normal>861</span>
<span class=normal>862</span>
<span class=normal>863</span>
<span class=normal>864</span>
<span class=normal>865</span>
<span class=normal>866</span>
<span class=normal>867</span>
<span class=normal>868</span>
<span class=normal>869</span>
<span class=normal>870</span>
<span class=normal>871</span>
<span class=normal>872</span>
<span class=normal>873</span>
<span class=normal>874</span>
<span class=normal>875</span>
<span class=normal>876</span>
<span class=normal>877</span>
<span class=normal>878</span>
<span class=normal>879</span>
<span class=normal>880</span>
<span class=normal>881</span>
<span class=normal>882</span>
<span class=normal>883</span>
<span class=normal>884</span>
<span class=normal>885</span>
<span class=normal>886</span>
<span class=normal>887</span>
<span class=normal>888</span>
<span class=normal>889</span>
<span class=normal>890</span>
<span class=normal>891</span>
<span class=normal>892</span>
<span class=normal>893</span>
<span class=normal>894</span>
<span class=normal>895</span>
<span class=normal>896</span>
<span class=normal>897</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_current_context_template_data_with_entity_attrs</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return template data including current context folder and task attribs.</span>

<span class=sd>    Output contains:</span>
<span class=sd>      - Regular template data from `get_template_data`</span>
<span class=sd>      - &#39;folderAttributes&#39; key with folder attribute values.</span>
<span class=sd>      - &#39;taskAttributes&#39; key with task attribute values.</span>

<span class=sd>    Returns:</span>
<span class=sd>         dict[str, Any]: Template data to fill templates.</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>context</span> <span class=o>=</span> <span class=n>get_current_context</span><span class=p>()</span>
    <span class=n>project_name</span> <span class=o>=</span> <span class=n>context</span><span class=p>[</span><span class=s2>&quot;project_name&quot;</span><span class=p>]</span>
    <span class=n>folder_path</span> <span class=o>=</span> <span class=n>context</span><span class=p>[</span><span class=s2>&quot;folder_path&quot;</span><span class=p>]</span>
    <span class=n>task_name</span> <span class=o>=</span> <span class=n>context</span><span class=p>[</span><span class=s2>&quot;task_name&quot;</span><span class=p>]</span>
    <span class=n>host_name</span> <span class=o>=</span> <span class=n>get_current_host_name</span><span class=p>()</span>

    <span class=n>project_entity</span> <span class=o>=</span> <span class=n>ayon_api</span><span class=o>.</span><span class=n>get_project</span><span class=p>(</span><span class=n>project_name</span><span class=p>)</span>
    <span class=n>anatomy</span> <span class=o>=</span> <span class=n>Anatomy</span><span class=p>(</span><span class=n>project_name</span><span class=p>,</span> <span class=n>project_entity</span><span class=o>=</span><span class=n>project_entity</span><span class=p>)</span>
    <span class=n>folder_entity</span> <span class=o>=</span> <span class=n>ayon_api</span><span class=o>.</span><span class=n>get_folder_by_path</span><span class=p>(</span><span class=n>project_name</span><span class=p>,</span> <span class=n>folder_path</span><span class=p>)</span>
    <span class=n>task_entity</span> <span class=o>=</span> <span class=n>ayon_api</span><span class=o>.</span><span class=n>get_task_by_name</span><span class=p>(</span>
        <span class=n>project_name</span><span class=p>,</span> <span class=n>folder_entity</span><span class=p>[</span><span class=s2>&quot;id&quot;</span><span class=p>],</span> <span class=n>task_name</span>
    <span class=p>)</span>

    <span class=c1># get context specific vars</span>
    <span class=n>folder_attributes</span> <span class=o>=</span> <span class=n>folder_entity</span><span class=p>[</span><span class=s2>&quot;attrib&quot;</span><span class=p>]</span>
    <span class=n>task_attributes</span> <span class=o>=</span> <span class=n>task_entity</span><span class=p>[</span><span class=s2>&quot;attrib&quot;</span><span class=p>]</span>

    <span class=c1># compute `frameStartHandle` and `frameEndHandle`</span>
    <span class=k>for</span> <span class=n>attributes</span> <span class=ow>in</span> <span class=p>[</span><span class=n>folder_attributes</span><span class=p>,</span> <span class=n>task_attributes</span><span class=p>]:</span>
        <span class=n>frame_start</span> <span class=o>=</span> <span class=n>attributes</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;frameStart&quot;</span><span class=p>)</span>
        <span class=n>frame_end</span> <span class=o>=</span> <span class=n>attributes</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;frameEnd&quot;</span><span class=p>)</span>
        <span class=n>handle_start</span> <span class=o>=</span> <span class=n>attributes</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;handleStart&quot;</span><span class=p>)</span>
        <span class=n>handle_end</span> <span class=o>=</span> <span class=n>attributes</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;handleEnd&quot;</span><span class=p>)</span>
        <span class=k>if</span> <span class=n>frame_start</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span> <span class=ow>and</span> <span class=n>handle_start</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
            <span class=n>attributes</span><span class=p>[</span><span class=s2>&quot;frameStartHandle&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>frame_start</span> <span class=o>-</span> <span class=n>handle_start</span>
        <span class=k>if</span> <span class=n>frame_end</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span> <span class=ow>and</span> <span class=n>handle_end</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
            <span class=n>attributes</span><span class=p>[</span><span class=s2>&quot;frameEndHandle&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>frame_end</span> <span class=o>+</span> <span class=n>handle_end</span>

    <span class=n>template_data</span> <span class=o>=</span> <span class=n>get_template_data</span><span class=p>(</span>
        <span class=n>project_entity</span><span class=p>,</span> <span class=n>folder_entity</span><span class=p>,</span> <span class=n>task_entity</span><span class=p>,</span> <span class=n>host_name</span>
    <span class=p>)</span>
    <span class=n>template_data</span><span class=p>[</span><span class=s2>&quot;root&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>anatomy</span><span class=o>.</span><span class=n>roots</span>
    <span class=n>template_data</span><span class=p>[</span><span class=s2>&quot;folderAttributes&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>folder_attributes</span>
    <span class=n>template_data</span><span class=p>[</span><span class=s2>&quot;taskAttributes&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>task_attributes</span>

    <span class=k>return</span> <span class=n>template_data</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.get_entity_fps class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_entity_fps</span><span class=p>(</span><span class=n>entity</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Return current task fps or fps from an entity.</p> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_entity_fps</span><span class=p>(</span><span class=n>entity</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return current task fps or fps from an entity.&quot;&quot;&quot;</span>

    <span class=k>if</span> <span class=n>entity</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>entity</span> <span class=o>=</span> <span class=n>get_current_task_entity</span><span class=p>(</span><span class=n>fields</span><span class=o>=</span><span class=p>[</span><span class=s2>&quot;attrib.fps&quot;</span><span class=p>])</span>
    <span class=k>return</span> <span class=n>entity</span><span class=p>[</span><span class=s2>&quot;attrib&quot;</span><span class=p>][</span><span class=s2>&quot;fps&quot;</span><span class=p>]</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.get_frame_data class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_frame_data</span><span class=p>(</span><span class=n>node</span><span class=p>,</span> <span class=n>log</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Get the frame data: <code>frameStartHandle</code>, <code>frameEndHandle</code> and <code>byFrameStep</code>.</p> <p>This function uses Houdini node's <code>trange</code>, <code>t1,</code>t2<code>and</code>t3` parameters as the source of truth for the full inclusive frame range to render, as such these are considered as the frame range including the handles.</p> <p>The non-inclusive frame start and frame end without handles can be computed by subtracting the handles from the inclusive frame range.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>node</code> </td> <td> <code><span title=hou.Node>Node</span></code> </td> <td> <div class=doc-md-description> <p>ROP node to retrieve frame range from, the frame range is assumed to be the frame range <em>including</em> the start and end handles.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>dict</code></td> <td> </td> <td> <div class=doc-md-description> <p>frame data for <code>frameStartHandle</code>, <code>frameEndHandle</code> and <code>byFrameStep</code>.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>580</span>
<span class=normal>581</span>
<span class=normal>582</span>
<span class=normal>583</span>
<span class=normal>584</span>
<span class=normal>585</span>
<span class=normal>586</span>
<span class=normal>587</span>
<span class=normal>588</span>
<span class=normal>589</span>
<span class=normal>590</span>
<span class=normal>591</span>
<span class=normal>592</span>
<span class=normal>593</span>
<span class=normal>594</span>
<span class=normal>595</span>
<span class=normal>596</span>
<span class=normal>597</span>
<span class=normal>598</span>
<span class=normal>599</span>
<span class=normal>600</span>
<span class=normal>601</span>
<span class=normal>602</span>
<span class=normal>603</span>
<span class=normal>604</span>
<span class=normal>605</span>
<span class=normal>606</span>
<span class=normal>607</span>
<span class=normal>608</span>
<span class=normal>609</span>
<span class=normal>610</span>
<span class=normal>611</span>
<span class=normal>612</span>
<span class=normal>613</span>
<span class=normal>614</span>
<span class=normal>615</span>
<span class=normal>616</span>
<span class=normal>617</span>
<span class=normal>618</span>
<span class=normal>619</span>
<span class=normal>620</span>
<span class=normal>621</span>
<span class=normal>622</span>
<span class=normal>623</span>
<span class=normal>624</span>
<span class=normal>625</span>
<span class=normal>626</span>
<span class=normal>627</span>
<span class=normal>628</span>
<span class=normal>629</span>
<span class=normal>630</span>
<span class=normal>631</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_frame_data</span><span class=p>(</span><span class=n>node</span><span class=p>,</span> <span class=n>log</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Get the frame data: `frameStartHandle`, `frameEndHandle`</span>
<span class=sd>    and `byFrameStep`.</span>

<span class=sd>    This function uses Houdini node&#39;s `trange`, `t1, `t2` and `t3`</span>
<span class=sd>    parameters as the source of truth for the full inclusive frame</span>
<span class=sd>    range to render, as such these are considered as the frame</span>
<span class=sd>    range including the handles.</span>

<span class=sd>    The non-inclusive frame start and frame end without handles</span>
<span class=sd>    can be computed by subtracting the handles from the inclusive</span>
<span class=sd>    frame range.</span>

<span class=sd>    Args:</span>
<span class=sd>        node (hou.Node): ROP node to retrieve frame range from,</span>
<span class=sd>            the frame range is assumed to be the frame range</span>
<span class=sd>            *including* the start and end handles.</span>

<span class=sd>    Returns:</span>
<span class=sd>        dict: frame data for `frameStartHandle`, `frameEndHandle`</span>
<span class=sd>            and `byFrameStep`.</span>

<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>if</span> <span class=n>log</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>log</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>log</span>

    <span class=n>data</span> <span class=o>=</span> <span class=p>{}</span>

    <span class=k>if</span> <span class=n>node</span><span class=o>.</span><span class=n>parm</span><span class=p>(</span><span class=s2>&quot;trange&quot;</span><span class=p>)</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>log</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span>
            <span class=s2>&quot;Node has no &#39;trange&#39; parameter: </span><span class=si>{}</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>path</span><span class=p>())</span>
        <span class=p>)</span>
        <span class=k>return</span> <span class=n>data</span>

    <span class=k>if</span> <span class=n>node</span><span class=o>.</span><span class=n>evalParm</span><span class=p>(</span><span class=s2>&quot;trange&quot;</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
        <span class=n>data</span><span class=p>[</span><span class=s2>&quot;frameStartHandle&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>hou</span><span class=o>.</span><span class=n>intFrame</span><span class=p>()</span>
        <span class=n>data</span><span class=p>[</span><span class=s2>&quot;frameEndHandle&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>hou</span><span class=o>.</span><span class=n>intFrame</span><span class=p>()</span>
        <span class=n>data</span><span class=p>[</span><span class=s2>&quot;byFrameStep&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=mf>1.0</span>

        <span class=n>log</span><span class=o>.</span><span class=n>info</span><span class=p>(</span>
            <span class=s2>&quot;Node &#39;</span><span class=si>{}</span><span class=s2>&#39; has &#39;Render current frame&#39; set.</span><span class=se>\n</span><span class=s2>&quot;</span>
            <span class=s2>&quot;Task handles are ignored.</span><span class=se>\n</span><span class=s2>&quot;</span>
            <span class=s2>&quot;frameStart and frameEnd are set to the &quot;</span>
            <span class=s2>&quot;current frame.&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>path</span><span class=p>())</span>
        <span class=p>)</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=n>data</span><span class=p>[</span><span class=s2>&quot;frameStartHandle&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>evalParm</span><span class=p>(</span><span class=s2>&quot;f1&quot;</span><span class=p>))</span>
        <span class=n>data</span><span class=p>[</span><span class=s2>&quot;frameEndHandle&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>evalParm</span><span class=p>(</span><span class=s2>&quot;f2&quot;</span><span class=p>))</span>
        <span class=n>data</span><span class=p>[</span><span class=s2>&quot;byFrameStep&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>node</span><span class=o>.</span><span class=n>evalParm</span><span class=p>(</span><span class=s2>&quot;f3&quot;</span><span class=p>)</span>

    <span class=k>return</span> <span class=n>data</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.get_lops_rop_context_options class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_lops_rop_context_options</span><span class=p>(</span><span class=n>ropnode</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Return the Context Options that a LOP ROP node uses.</p> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>113</span>
<span class=normal>114</span>
<span class=normal>115</span>
<span class=normal>116</span>
<span class=normal>117</span>
<span class=normal>118</span>
<span class=normal>119</span>
<span class=normal>120</span>
<span class=normal>121</span>
<span class=normal>122</span>
<span class=normal>123</span>
<span class=normal>124</span>
<span class=normal>125</span>
<span class=normal>126</span>
<span class=normal>127</span>
<span class=normal>128</span>
<span class=normal>129</span>
<span class=normal>130</span>
<span class=normal>131</span>
<span class=normal>132</span>
<span class=normal>133</span>
<span class=normal>134</span>
<span class=normal>135</span>
<span class=normal>136</span>
<span class=normal>137</span>
<span class=normal>138</span>
<span class=normal>139</span>
<span class=normal>140</span>
<span class=normal>141</span>
<span class=normal>142</span>
<span class=normal>143</span>
<span class=normal>144</span>
<span class=normal>145</span>
<span class=normal>146</span>
<span class=normal>147</span>
<span class=normal>148</span>
<span class=normal>149</span>
<span class=normal>150</span>
<span class=normal>151</span>
<span class=normal>152</span>
<span class=normal>153</span>
<span class=normal>154</span>
<span class=normal>155</span>
<span class=normal>156</span>
<span class=normal>157</span>
<span class=normal>158</span>
<span class=normal>159</span>
<span class=normal>160</span>
<span class=normal>161</span>
<span class=normal>162</span>
<span class=normal>163</span>
<span class=normal>164</span>
<span class=normal>165</span>
<span class=normal>166</span>
<span class=normal>167</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_lops_rop_context_options</span><span class=p>(</span>
        <span class=n>ropnode</span><span class=p>:</span> <span class=n>hou</span><span class=o>.</span><span class=n>RopNode</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s2>&quot;dict[str, str | float]&quot;</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return the Context Options that a LOP ROP node uses.&quot;&quot;&quot;</span>
    <span class=n>rop_context_options</span><span class=p>:</span> <span class=s2>&quot;dict[str, str | float]&quot;</span> <span class=o>=</span> <span class=p>{}</span>

    <span class=c1># Always set @ropname and @roppath</span>
    <span class=c1># See: https://www.sidefx.com/docs/houdini/hom/hou/isAutoContextOption.html</span>
    <span class=n>rop_context_options</span><span class=p>[</span><span class=s2>&quot;ropname&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>ropnode</span><span class=o>.</span><span class=n>name</span><span class=p>()</span>
    <span class=n>rop_context_options</span><span class=p>[</span><span class=s2>&quot;roppath&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>ropnode</span><span class=o>.</span><span class=n>path</span><span class=p>()</span>

    <span class=c1># Set @ropcook, @ropstart, @ropend and @ropinc if setropcook is enabled</span>
    <span class=n>setropcook_parm</span> <span class=o>=</span> <span class=n>ropnode</span><span class=o>.</span><span class=n>parm</span><span class=p>(</span><span class=s2>&quot;setropcook&quot;</span><span class=p>)</span>
    <span class=k>if</span> <span class=n>setropcook_parm</span><span class=p>:</span>
        <span class=n>setropcook</span> <span class=o>=</span> <span class=n>setropcook_parm</span><span class=o>.</span><span class=n>eval</span><span class=p>()</span>
        <span class=k>if</span> <span class=n>setropcook</span><span class=p>:</span>
            <span class=c1># TODO: Support &quot;Render Frame Range from Stage&quot; correctly</span>
            <span class=c1># TODO: Support passing in the start, end, and increment values</span>
            <span class=c1>#  for the cases where this may need to consider overridden</span>
            <span class=c1>#  frame ranges for `RopNode.render()` calls.</span>
            <span class=n>trange</span> <span class=o>=</span> <span class=n>ropnode</span><span class=o>.</span><span class=n>evalParm</span><span class=p>(</span><span class=s2>&quot;trange&quot;</span><span class=p>)</span>
            <span class=k>if</span> <span class=n>trange</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
                <span class=c1># Current frame</span>
                <span class=n>start</span><span class=p>:</span> <span class=nb>float</span> <span class=o>=</span> <span class=n>hou</span><span class=o>.</span><span class=n>frame</span><span class=p>()</span>
                <span class=n>end</span><span class=p>:</span> <span class=nb>float</span> <span class=o>=</span> <span class=n>start</span>
                <span class=n>inc</span><span class=p>:</span> <span class=nb>float</span> <span class=o>=</span> <span class=mf>1.0</span>
            <span class=k>elif</span> <span class=n>trange</span> <span class=ow>in</span> <span class=p>{</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>}:</span>
                <span class=c1># Frame range</span>
                <span class=n>start</span><span class=p>:</span> <span class=nb>float</span> <span class=o>=</span> <span class=n>ropnode</span><span class=o>.</span><span class=n>evalParm</span><span class=p>(</span><span class=s2>&quot;f1&quot;</span><span class=p>)</span>
                <span class=n>end</span><span class=p>:</span> <span class=nb>float</span> <span class=o>=</span> <span class=n>ropnode</span><span class=o>.</span><span class=n>evalParm</span><span class=p>(</span><span class=s2>&quot;f2&quot;</span><span class=p>)</span>
                <span class=n>inc</span><span class=p>:</span> <span class=nb>float</span> <span class=o>=</span> <span class=n>ropnode</span><span class=o>.</span><span class=n>evalParm</span><span class=p>(</span><span class=s2>&quot;f3&quot;</span><span class=p>)</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Unsupported trange value: </span><span class=si>%s</span><span class=s2>&quot;</span> <span class=o>%</span> <span class=n>trange</span><span class=p>)</span>
            <span class=n>rop_context_options</span><span class=p>[</span><span class=s2>&quot;ropcook&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=mf>1.0</span>
            <span class=n>rop_context_options</span><span class=p>[</span><span class=s2>&quot;ropstart&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>start</span>
            <span class=n>rop_context_options</span><span class=p>[</span><span class=s2>&quot;ropend&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>end</span>
            <span class=n>rop_context_options</span><span class=p>[</span><span class=s2>&quot;ropinc&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>inc</span>

    <span class=c1># Get explicit context options set on the ROP node.</span>
    <span class=n>num</span> <span class=o>=</span> <span class=n>ropnode</span><span class=o>.</span><span class=n>evalParm</span><span class=p>(</span><span class=s2>&quot;optioncount&quot;</span><span class=p>)</span>
    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=n>num</span> <span class=o>+</span> <span class=mi>1</span><span class=p>):</span>
        <span class=c1># Ignore disabled options</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=n>ropnode</span><span class=o>.</span><span class=n>evalParm</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;optionenable</span><span class=si>{</span><span class=n>i</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>):</span>
            <span class=k>continue</span>

        <span class=n>name</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=n>ropnode</span><span class=o>.</span><span class=n>evalParm</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;optionname</span><span class=si>{</span><span class=n>i</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=n>option_type</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=n>ropnode</span><span class=o>.</span><span class=n>evalParm</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;optiontype</span><span class=si>{</span><span class=n>i</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=k>if</span> <span class=n>option_type</span> <span class=o>==</span> <span class=s2>&quot;string&quot;</span><span class=p>:</span>
            <span class=n>value</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=n>ropnode</span><span class=o>.</span><span class=n>evalParm</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;optionstrvalue</span><span class=si>{</span><span class=n>i</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=k>elif</span> <span class=n>option_type</span> <span class=o>==</span> <span class=s2>&quot;float&quot;</span><span class=p>:</span>
            <span class=n>value</span><span class=p>:</span> <span class=nb>float</span> <span class=o>=</span> <span class=n>ropnode</span><span class=o>.</span><span class=n>evalParm</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;optionfloatvalue</span><span class=si>{</span><span class=n>i</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Unsupported option type: </span><span class=si>{</span><span class=n>option_type</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=n>rop_context_options</span><span class=p>[</span><span class=n>name</span><span class=p>]</span> <span class=o>=</span> <span class=n>value</span>

    <span class=k>return</span> <span class=n>rop_context_options</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.get_main_window class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_main_window</span><span class=p>()</span></code> </h2> <div class="doc doc-contents "> <p>Acquire Houdini's main window</p> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>541</span>
<span class=normal>542</span>
<span class=normal>543</span>
<span class=normal>544</span>
<span class=normal>545</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_main_window</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Acquire Houdini&#39;s main window&quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_parent</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_parent</span> <span class=o>=</span> <span class=n>hou</span><span class=o>.</span><span class=n>ui</span><span class=o>.</span><span class=n>mainQtWindow</span><span class=p>()</span>
    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_parent</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.get_node_thumbnail class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_node_thumbnail</span><span class=p>(</span><span class=n>node</span><span class=p>,</span> <span class=n>first_only</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Return node thumbnails.</p> <p>Return network background images that are linked to the given node. By default, only returns the first one found, unless <code>first_only</code> is False.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>Union[hou.NetworkImage, List[hou.NetworkImage]]: Connected network images</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1372</span>
<span class=normal>1373</span>
<span class=normal>1374</span>
<span class=normal>1375</span>
<span class=normal>1376</span>
<span class=normal>1377</span>
<span class=normal>1378</span>
<span class=normal>1379</span>
<span class=normal>1380</span>
<span class=normal>1381</span>
<span class=normal>1382</span>
<span class=normal>1383</span>
<span class=normal>1384</span>
<span class=normal>1385</span>
<span class=normal>1386</span>
<span class=normal>1387</span>
<span class=normal>1388</span>
<span class=normal>1389</span>
<span class=normal>1390</span>
<span class=normal>1391</span>
<span class=normal>1392</span>
<span class=normal>1393</span>
<span class=normal>1394</span>
<span class=normal>1395</span>
<span class=normal>1396</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_node_thumbnail</span><span class=p>(</span><span class=n>node</span><span class=p>,</span> <span class=n>first_only</span><span class=o>=</span><span class=kc>True</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return node thumbnails.</span>

<span class=sd>    Return network background images that are linked to the given node.</span>
<span class=sd>    By default, only returns the first one found, unless `first_only` is False.</span>

<span class=sd>    Returns:</span>
<span class=sd>        Union[hou.NetworkImage, List[hou.NetworkImage]]:</span>
<span class=sd>            Connected network images</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>parent</span> <span class=o>=</span> <span class=n>node</span><span class=o>.</span><span class=n>parent</span><span class=p>()</span>
    <span class=n>images</span> <span class=o>=</span> <span class=n>get_background_images</span><span class=p>(</span><span class=n>parent</span><span class=p>)</span>
    <span class=n>node_path</span> <span class=o>=</span> <span class=n>node</span><span class=o>.</span><span class=n>path</span><span class=p>()</span>

    <span class=k>def</span><span class=w> </span><span class=nf>is_attached_to_node</span><span class=p>(</span><span class=n>image</span><span class=p>):</span>
        <span class=k>return</span> <span class=n>image</span><span class=o>.</span><span class=n>relativeToPath</span><span class=p>()</span> <span class=o>==</span> <span class=n>node_path</span>

    <span class=n>attached_images</span> <span class=o>=</span> <span class=nb>filter</span><span class=p>(</span><span class=n>is_attached_to_node</span><span class=p>,</span> <span class=n>images</span><span class=p>)</span>

    <span class=c1># Find first existing image attached to node</span>
    <span class=k>if</span> <span class=n>first_only</span><span class=p>:</span>
        <span class=k>return</span> <span class=nb>next</span><span class=p>(</span><span class=n>attached_images</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=k>return</span> <span class=n>attached_images</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.get_obj_node_output class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_obj_node_output</span><span class=p>(</span><span class=n>obj_node</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Find output node.</p> <p>If the node has any output node return the output node with the minimum <code>outputidx</code>. When no output is present return the node with the display flag set. If no output node is detected then None is returned.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>node</code> </td> <td> <code><span title=hou.Node>Node</span></code> </td> <td> <div class=doc-md-description> <p>The node to retrieve a single the output node for.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>Optional[hou.Node]: The child output node.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>739</span>
<span class=normal>740</span>
<span class=normal>741</span>
<span class=normal>742</span>
<span class=normal>743</span>
<span class=normal>744</span>
<span class=normal>745</span>
<span class=normal>746</span>
<span class=normal>747</span>
<span class=normal>748</span>
<span class=normal>749</span>
<span class=normal>750</span>
<span class=normal>751</span>
<span class=normal>752</span>
<span class=normal>753</span>
<span class=normal>754</span>
<span class=normal>755</span>
<span class=normal>756</span>
<span class=normal>757</span>
<span class=normal>758</span>
<span class=normal>759</span>
<span class=normal>760</span>
<span class=normal>761</span>
<span class=normal>762</span>
<span class=normal>763</span>
<span class=normal>764</span>
<span class=normal>765</span>
<span class=normal>766</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_obj_node_output</span><span class=p>(</span><span class=n>obj_node</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Find output node.</span>

<span class=sd>    If the node has any output node return the</span>
<span class=sd>    output node with the minimum `outputidx`.</span>
<span class=sd>    When no output is present return the node</span>
<span class=sd>    with the display flag set. If no output node is</span>
<span class=sd>    detected then None is returned.</span>

<span class=sd>    Arguments:</span>
<span class=sd>        node (hou.Node): The node to retrieve a single</span>
<span class=sd>            the output node for.</span>

<span class=sd>    Returns:</span>
<span class=sd>        Optional[hou.Node]: The child output node.</span>

<span class=sd>    &quot;&quot;&quot;</span>

    <span class=n>outputs</span> <span class=o>=</span> <span class=n>obj_node</span><span class=o>.</span><span class=n>subnetOutputs</span><span class=p>()</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=n>outputs</span><span class=p>:</span>
        <span class=k>return</span>

    <span class=k>elif</span> <span class=nb>len</span><span class=p>(</span><span class=n>outputs</span><span class=p>)</span> <span class=o>==</span> <span class=mi>1</span><span class=p>:</span>
        <span class=k>return</span> <span class=n>outputs</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>

    <span class=k>else</span><span class=p>:</span>
        <span class=k>return</span> <span class=nb>min</span><span class=p>(</span><span class=n>outputs</span><span class=p>,</span>
                   <span class=n>key</span><span class=o>=</span><span class=k>lambda</span> <span class=n>node</span><span class=p>:</span> <span class=n>node</span><span class=o>.</span><span class=n>evalParm</span><span class=p>(</span><span class=s1>&#39;outputidx&#39;</span><span class=p>))</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.get_output_children class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_output_children</span><span class=p>(</span><span class=n>output_node</span><span class=p>,</span> <span class=n>include_sops</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Recursively return a list of all output nodes contained in this node including this node.</p> <p>It works in a similar manner to output_node.allNodes().</p> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>769</span>
<span class=normal>770</span>
<span class=normal>771</span>
<span class=normal>772</span>
<span class=normal>773</span>
<span class=normal>774</span>
<span class=normal>775</span>
<span class=normal>776</span>
<span class=normal>777</span>
<span class=normal>778</span>
<span class=normal>779</span>
<span class=normal>780</span>
<span class=normal>781</span>
<span class=normal>782</span>
<span class=normal>783</span>
<span class=normal>784</span>
<span class=normal>785</span>
<span class=normal>786</span>
<span class=normal>787</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_output_children</span><span class=p>(</span><span class=n>output_node</span><span class=p>,</span> <span class=n>include_sops</span><span class=o>=</span><span class=kc>True</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Recursively return a list of all output nodes</span>
<span class=sd>    contained in this node including this node.</span>

<span class=sd>    It works in a similar manner to output_node.allNodes().</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>out_list</span> <span class=o>=</span> <span class=p>[</span><span class=n>output_node</span><span class=p>]</span>

    <span class=k>if</span> <span class=n>output_node</span><span class=o>.</span><span class=n>childTypeCategory</span><span class=p>()</span> <span class=o>==</span> <span class=n>hou</span><span class=o>.</span><span class=n>objNodeTypeCategory</span><span class=p>():</span>
        <span class=k>for</span> <span class=n>child</span> <span class=ow>in</span> <span class=n>output_node</span><span class=o>.</span><span class=n>children</span><span class=p>():</span>
            <span class=n>out_list</span> <span class=o>+=</span> <span class=n>get_output_children</span><span class=p>(</span><span class=n>child</span><span class=p>,</span> <span class=n>include_sops</span><span class=o>=</span><span class=n>include_sops</span><span class=p>)</span>

    <span class=k>elif</span> <span class=n>include_sops</span> <span class=ow>and</span> \
            <span class=n>output_node</span><span class=o>.</span><span class=n>childTypeCategory</span><span class=p>()</span> <span class=o>==</span> <span class=n>hou</span><span class=o>.</span><span class=n>sopNodeTypeCategory</span><span class=p>():</span>
        <span class=n>out</span> <span class=o>=</span> <span class=n>get_obj_node_output</span><span class=p>(</span><span class=n>output_node</span><span class=p>)</span>
        <span class=k>if</span> <span class=n>out</span><span class=p>:</span>
            <span class=n>out_list</span> <span class=o>+=</span> <span class=p>[</span><span class=n>out</span><span class=p>]</span>

    <span class=k>return</span> <span class=n>out_list</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.get_output_parameter class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_output_parameter</span><span class=p>(</span><span class=n>node</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Return the render output parameter of the given node</p> <details class=example open> <summary>Example</summary> <p>root = hou.node("/obj") my_alembic_node = root.createNode("alembic") get_output_parameter(my_alembic_node)</p> <blockquote> <blockquote> <blockquote> <p>"filename"</p> </blockquote> </blockquote> </blockquote> </details> <details class=notes open> <summary>Notes</summary> <p>I'm using node.type().name() to get on par with the creators, Because the return value of <code>node.type().name()</code> is the same string value used in creators e.g. instance_data.update({"node_type": "alembic"})</p> <p>Rop nodes in different network categories have the same output parameter. So, I took that into consideration as a hint for future development.</p> </details> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>node(hou.Node)</code> </td> <td> </td> <td> <div class=doc-md-description> <p>node instance</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>hou.Parm</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 48</span>
<span class=normal> 49</span>
<span class=normal> 50</span>
<span class=normal> 51</span>
<span class=normal> 52</span>
<span class=normal> 53</span>
<span class=normal> 54</span>
<span class=normal> 55</span>
<span class=normal> 56</span>
<span class=normal> 57</span>
<span class=normal> 58</span>
<span class=normal> 59</span>
<span class=normal> 60</span>
<span class=normal> 61</span>
<span class=normal> 62</span>
<span class=normal> 63</span>
<span class=normal> 64</span>
<span class=normal> 65</span>
<span class=normal> 66</span>
<span class=normal> 67</span>
<span class=normal> 68</span>
<span class=normal> 69</span>
<span class=normal> 70</span>
<span class=normal> 71</span>
<span class=normal> 72</span>
<span class=normal> 73</span>
<span class=normal> 74</span>
<span class=normal> 75</span>
<span class=normal> 76</span>
<span class=normal> 77</span>
<span class=normal> 78</span>
<span class=normal> 79</span>
<span class=normal> 80</span>
<span class=normal> 81</span>
<span class=normal> 82</span>
<span class=normal> 83</span>
<span class=normal> 84</span>
<span class=normal> 85</span>
<span class=normal> 86</span>
<span class=normal> 87</span>
<span class=normal> 88</span>
<span class=normal> 89</span>
<span class=normal> 90</span>
<span class=normal> 91</span>
<span class=normal> 92</span>
<span class=normal> 93</span>
<span class=normal> 94</span>
<span class=normal> 95</span>
<span class=normal> 96</span>
<span class=normal> 97</span>
<span class=normal> 98</span>
<span class=normal> 99</span>
<span class=normal>100</span>
<span class=normal>101</span>
<span class=normal>102</span>
<span class=normal>103</span>
<span class=normal>104</span>
<span class=normal>105</span>
<span class=normal>106</span>
<span class=normal>107</span>
<span class=normal>108</span>
<span class=normal>109</span>
<span class=normal>110</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_output_parameter</span><span class=p>(</span><span class=n>node</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return the render output parameter of the given node</span>

<span class=sd>    Example:</span>
<span class=sd>        root = hou.node(&quot;/obj&quot;)</span>
<span class=sd>        my_alembic_node = root.createNode(&quot;alembic&quot;)</span>
<span class=sd>        get_output_parameter(my_alembic_node)</span>
<span class=sd>        &gt;&gt;&gt; &quot;filename&quot;</span>

<span class=sd>    Notes:</span>
<span class=sd>        I&#39;m using node.type().name() to get on par with the creators,</span>
<span class=sd>            Because the return value of `node.type().name()` is the</span>
<span class=sd>            same string value used in creators</span>
<span class=sd>            e.g. instance_data.update({&quot;node_type&quot;: &quot;alembic&quot;})</span>

<span class=sd>        Rop nodes in different network categories have</span>
<span class=sd>            the same output parameter.</span>
<span class=sd>            So, I took that into consideration as a hint for</span>
<span class=sd>            future development.</span>

<span class=sd>    Args:</span>
<span class=sd>        node(hou.Node): node instance</span>

<span class=sd>    Returns:</span>
<span class=sd>        hou.Parm</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=n>node_type</span> <span class=o>=</span> <span class=n>node</span><span class=o>.</span><span class=n>type</span><span class=p>()</span><span class=o>.</span><span class=n>name</span><span class=p>()</span>

    <span class=c1># Figure out which type of node is being rendered</span>
    <span class=k>if</span> <span class=n>node_type</span> <span class=ow>in</span> <span class=p>{</span><span class=s2>&quot;alembic&quot;</span><span class=p>,</span> <span class=s2>&quot;rop_alembic&quot;</span><span class=p>}:</span>
        <span class=k>return</span> <span class=n>node</span><span class=o>.</span><span class=n>parm</span><span class=p>(</span><span class=s2>&quot;filename&quot;</span><span class=p>)</span>
    <span class=k>elif</span> <span class=n>node_type</span> <span class=o>==</span> <span class=s2>&quot;arnold&quot;</span><span class=p>:</span>
        <span class=k>if</span> <span class=n>node_type</span><span class=o>.</span><span class=n>evalParm</span><span class=p>(</span><span class=s2>&quot;ar_ass_export_enable&quot;</span><span class=p>):</span>
            <span class=k>return</span> <span class=n>node</span><span class=o>.</span><span class=n>parm</span><span class=p>(</span><span class=s2>&quot;ar_ass_file&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>node</span><span class=o>.</span><span class=n>parm</span><span class=p>(</span><span class=s2>&quot;ar_picture&quot;</span><span class=p>)</span>
    <span class=k>elif</span> <span class=n>node_type</span> <span class=ow>in</span> <span class=p>{</span>
        <span class=s2>&quot;geometry&quot;</span><span class=p>,</span>
        <span class=s2>&quot;rop_geometry&quot;</span><span class=p>,</span>
        <span class=s2>&quot;filmboxfbx&quot;</span><span class=p>,</span>
        <span class=s2>&quot;rop_fbx&quot;</span>
    <span class=p>}:</span>
        <span class=k>return</span> <span class=n>node</span><span class=o>.</span><span class=n>parm</span><span class=p>(</span><span class=s2>&quot;sopoutput&quot;</span><span class=p>)</span>
    <span class=k>elif</span> <span class=n>node_type</span> <span class=o>==</span> <span class=s2>&quot;comp&quot;</span><span class=p>:</span>
        <span class=k>return</span> <span class=n>node</span><span class=o>.</span><span class=n>parm</span><span class=p>(</span><span class=s2>&quot;copoutput&quot;</span><span class=p>)</span>
    <span class=k>elif</span> <span class=n>node_type</span> <span class=ow>in</span> <span class=p>{</span><span class=s2>&quot;karma&quot;</span><span class=p>,</span> <span class=s2>&quot;opengl&quot;</span><span class=p>,</span> <span class=s2>&quot;flipbook&quot;</span><span class=p>}:</span>
        <span class=k>return</span> <span class=n>node</span><span class=o>.</span><span class=n>parm</span><span class=p>(</span><span class=s2>&quot;picture&quot;</span><span class=p>)</span>
    <span class=k>elif</span> <span class=n>node_type</span> <span class=o>==</span> <span class=s2>&quot;ifd&quot;</span><span class=p>:</span>  <span class=c1># Mantra</span>
        <span class=k>if</span> <span class=n>node</span><span class=o>.</span><span class=n>evalParm</span><span class=p>(</span><span class=s2>&quot;soho_outputmode&quot;</span><span class=p>):</span>
            <span class=k>return</span> <span class=n>node</span><span class=o>.</span><span class=n>parm</span><span class=p>(</span><span class=s2>&quot;soho_diskfile&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>node</span><span class=o>.</span><span class=n>parm</span><span class=p>(</span><span class=s2>&quot;vm_picture&quot;</span><span class=p>)</span>
    <span class=k>elif</span> <span class=n>node_type</span> <span class=o>==</span> <span class=s2>&quot;Redshift_Proxy_Output&quot;</span><span class=p>:</span>
        <span class=k>return</span> <span class=n>node</span><span class=o>.</span><span class=n>parm</span><span class=p>(</span><span class=s2>&quot;RS_archive_file&quot;</span><span class=p>)</span>
    <span class=k>elif</span> <span class=n>node_type</span> <span class=o>==</span> <span class=s2>&quot;Redshift_ROP&quot;</span><span class=p>:</span>
        <span class=k>return</span> <span class=n>node</span><span class=o>.</span><span class=n>parm</span><span class=p>(</span><span class=s2>&quot;RS_outputFileNamePrefix&quot;</span><span class=p>)</span>
    <span class=k>elif</span> <span class=n>node_type</span> <span class=ow>in</span> <span class=p>{</span><span class=s2>&quot;usd&quot;</span><span class=p>,</span> <span class=s2>&quot;usd_rop&quot;</span><span class=p>,</span> <span class=s2>&quot;usdexport&quot;</span><span class=p>}:</span>
        <span class=k>return</span> <span class=n>node</span><span class=o>.</span><span class=n>parm</span><span class=p>(</span><span class=s2>&quot;lopoutput&quot;</span><span class=p>)</span>
    <span class=k>elif</span> <span class=n>node_type</span> <span class=ow>in</span> <span class=p>{</span><span class=s2>&quot;usdrender&quot;</span><span class=p>,</span> <span class=s2>&quot;usdrender_rop&quot;</span><span class=p>}:</span>
        <span class=k>return</span> <span class=n>node</span><span class=o>.</span><span class=n>parm</span><span class=p>(</span><span class=s2>&quot;outputimage&quot;</span><span class=p>)</span>
    <span class=k>elif</span> <span class=n>node_type</span> <span class=o>==</span> <span class=s2>&quot;vray_renderer&quot;</span><span class=p>:</span>
        <span class=k>return</span> <span class=n>node</span><span class=o>.</span><span class=n>parm</span><span class=p>(</span><span class=s2>&quot;SettingsOutput_img_file_path&quot;</span><span class=p>)</span>

    <span class=k>raise</span> <span class=ne>TypeError</span><span class=p>(</span><span class=s2>&quot;Node type &#39;</span><span class=si>%s</span><span class=s2>&#39; not supported&quot;</span> <span class=o>%</span> <span class=n>node_type</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.get_resolution_from_entity class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_resolution_from_entity</span><span class=p>(</span><span class=n>entity</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Get resolution from the given entity.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>entity</code> </td> <td> <code><span title=dict>dict</span>[<span title=str>str</span>, <span title=Any>Any</span>]</code> </td> <td> <div class=doc-md-description> <p>Project, Folder or Task entity.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>Union[Tuple[int, int], None]: Resolution width and height.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>790</span>
<span class=normal>791</span>
<span class=normal>792</span>
<span class=normal>793</span>
<span class=normal>794</span>
<span class=normal>795</span>
<span class=normal>796</span>
<span class=normal>797</span>
<span class=normal>798</span>
<span class=normal>799</span>
<span class=normal>800</span>
<span class=normal>801</span>
<span class=normal>802</span>
<span class=normal>803</span>
<span class=normal>804</span>
<span class=normal>805</span>
<span class=normal>806</span>
<span class=normal>807</span>
<span class=normal>808</span>
<span class=normal>809</span>
<span class=normal>810</span>
<span class=normal>811</span>
<span class=normal>812</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_resolution_from_entity</span><span class=p>(</span><span class=n>entity</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Get resolution from the given entity.</span>

<span class=sd>    Args:</span>
<span class=sd>        entity (dict[str, Any]): Project, Folder or Task entity.</span>

<span class=sd>    Returns:</span>
<span class=sd>        Union[Tuple[int, int], None]: Resolution width and height.</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=n>entity</span> <span class=ow>or</span> <span class=s2>&quot;attrib&quot;</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>entity</span><span class=p>:</span>
        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Entity is not valid: </span><span class=se>\&quot;</span><span class=si>{</span><span class=n>entity</span><span class=si>}</span><span class=se>\&quot;</span><span class=s2>&quot;</span><span class=p>)</span>

    <span class=n>attributes</span> <span class=o>=</span> <span class=n>entity</span><span class=p>[</span><span class=s2>&quot;attrib&quot;</span><span class=p>]</span>
    <span class=n>resolution_width</span> <span class=o>=</span> <span class=n>attributes</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;resolutionWidth&quot;</span><span class=p>)</span>
    <span class=n>resolution_height</span> <span class=o>=</span> <span class=n>attributes</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;resolutionHeight&quot;</span><span class=p>)</span>

    <span class=c1># Make sure both width and height are set</span>
    <span class=k>if</span> <span class=n>resolution_width</span> <span class=ow>is</span> <span class=kc>None</span> <span class=ow>or</span> <span class=n>resolution_height</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;No resolution information found in entity: &#39;</span><span class=si>{</span><span class=n>entity</span><span class=si>}</span><span class=s2>&#39;&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=kc>None</span>

    <span class=k>return</span> <span class=nb>int</span><span class=p>(</span><span class=n>resolution_width</span><span class=p>),</span> <span class=nb>int</span><span class=p>(</span><span class=n>resolution_height</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.get_scene_viewer class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_scene_viewer</span><span class=p>(</span><span class=n>visible_only</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Return an instance of a visible viewport.</p> <p>There may be many, some could be closed, any visible are current</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>visible_only</code> </td> <td> <code><span title=Optional>Optional</span>[<span title=bool>bool</span>]</code> </td> <td> <div class=doc-md-description> <p>Only return viewers that currently are the active tab (and hence are visible).</p> </div> </td> <td> <code>True</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>Optional[hou.SceneViewer]: A scene viewer, if any.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1138</span>
<span class=normal>1139</span>
<span class=normal>1140</span>
<span class=normal>1141</span>
<span class=normal>1142</span>
<span class=normal>1143</span>
<span class=normal>1144</span>
<span class=normal>1145</span>
<span class=normal>1146</span>
<span class=normal>1147</span>
<span class=normal>1148</span>
<span class=normal>1149</span>
<span class=normal>1150</span>
<span class=normal>1151</span>
<span class=normal>1152</span>
<span class=normal>1153</span>
<span class=normal>1154</span>
<span class=normal>1155</span>
<span class=normal>1156</span>
<span class=normal>1157</span>
<span class=normal>1158</span>
<span class=normal>1159</span>
<span class=normal>1160</span>
<span class=normal>1161</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_scene_viewer</span><span class=p>(</span><span class=n>visible_only</span><span class=o>=</span><span class=kc>True</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Return an instance of a visible viewport.</span>

<span class=sd>    There may be many, some could be closed, any visible are current</span>

<span class=sd>    Arguments:</span>
<span class=sd>        visible_only (Optional[bool]): Only return viewers that currently</span>
<span class=sd>            are the active tab (and hence are visible).</span>

<span class=sd>    Returns:</span>
<span class=sd>        Optional[hou.SceneViewer]: A scene viewer, if any.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>panes</span> <span class=o>=</span> <span class=n>hou</span><span class=o>.</span><span class=n>ui</span><span class=o>.</span><span class=n>paneTabs</span><span class=p>()</span>
    <span class=n>panes</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>panes</span> <span class=k>if</span> <span class=n>x</span><span class=o>.</span><span class=n>type</span><span class=p>()</span> <span class=o>==</span> <span class=n>hou</span><span class=o>.</span><span class=n>paneTabType</span><span class=o>.</span><span class=n>SceneViewer</span><span class=p>]</span>

    <span class=k>if</span> <span class=n>visible_only</span><span class=p>:</span>
        <span class=k>return</span> <span class=nb>next</span><span class=p>((</span><span class=n>pane</span> <span class=k>for</span> <span class=n>pane</span> <span class=ow>in</span> <span class=n>panes</span> <span class=k>if</span> <span class=n>pane</span><span class=o>.</span><span class=n>isCurrentTab</span><span class=p>()),</span> <span class=kc>None</span><span class=p>)</span>

    <span class=n>panes</span> <span class=o>=</span> <span class=nb>sorted</span><span class=p>(</span><span class=n>panes</span><span class=p>,</span> <span class=n>key</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=o>.</span><span class=n>isCurrentTab</span><span class=p>())</span>
    <span class=k>if</span> <span class=n>panes</span><span class=p>:</span>
        <span class=k>return</span> <span class=n>panes</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>

    <span class=k>return</span> <span class=kc>None</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.imprint class="doc doc-heading"> <code class="highlight language-python"><span class=n>imprint</span><span class=p>(</span><span class=n>node</span><span class=p>,</span> <span class=n>data</span><span class=p>,</span> <span class=n>update</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Store attributes with value on a node</p> <p>Depending on the type of attribute it creates the correct parameter template. Houdini uses a template per type, see the docs for more information.</p> <p>http://www.sidefx.com/docs/houdini/hom/hou/ParmTemplate.html</p> <p>Because of some update glitch where you cannot overwrite existing ParmTemplates on node using: <code>setParmTemplates()</code> and <code>parmTuplesInFolder()</code> update is done in another pass.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>node(hou.Node)</code> </td> <td> </td> <td> <div class=doc-md-description> <p>node object from Houdini</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>data(dict)</code> </td> <td> </td> <td> <div class=doc-md-description> <p>collection of attributes and their value</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>update</code> </td> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>flag if imprint should update already existing data or leave them untouched and only add new.</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>None</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>295</span>
<span class=normal>296</span>
<span class=normal>297</span>
<span class=normal>298</span>
<span class=normal>299</span>
<span class=normal>300</span>
<span class=normal>301</span>
<span class=normal>302</span>
<span class=normal>303</span>
<span class=normal>304</span>
<span class=normal>305</span>
<span class=normal>306</span>
<span class=normal>307</span>
<span class=normal>308</span>
<span class=normal>309</span>
<span class=normal>310</span>
<span class=normal>311</span>
<span class=normal>312</span>
<span class=normal>313</span>
<span class=normal>314</span>
<span class=normal>315</span>
<span class=normal>316</span>
<span class=normal>317</span>
<span class=normal>318</span>
<span class=normal>319</span>
<span class=normal>320</span>
<span class=normal>321</span>
<span class=normal>322</span>
<span class=normal>323</span>
<span class=normal>324</span>
<span class=normal>325</span>
<span class=normal>326</span>
<span class=normal>327</span>
<span class=normal>328</span>
<span class=normal>329</span>
<span class=normal>330</span>
<span class=normal>331</span>
<span class=normal>332</span>
<span class=normal>333</span>
<span class=normal>334</span>
<span class=normal>335</span>
<span class=normal>336</span>
<span class=normal>337</span>
<span class=normal>338</span>
<span class=normal>339</span>
<span class=normal>340</span>
<span class=normal>341</span>
<span class=normal>342</span>
<span class=normal>343</span>
<span class=normal>344</span>
<span class=normal>345</span>
<span class=normal>346</span>
<span class=normal>347</span>
<span class=normal>348</span>
<span class=normal>349</span>
<span class=normal>350</span>
<span class=normal>351</span>
<span class=normal>352</span>
<span class=normal>353</span>
<span class=normal>354</span>
<span class=normal>355</span>
<span class=normal>356</span>
<span class=normal>357</span>
<span class=normal>358</span>
<span class=normal>359</span>
<span class=normal>360</span>
<span class=normal>361</span>
<span class=normal>362</span>
<span class=normal>363</span>
<span class=normal>364</span>
<span class=normal>365</span>
<span class=normal>366</span>
<span class=normal>367</span>
<span class=normal>368</span>
<span class=normal>369</span>
<span class=normal>370</span>
<span class=normal>371</span>
<span class=normal>372</span>
<span class=normal>373</span>
<span class=normal>374</span>
<span class=normal>375</span>
<span class=normal>376</span>
<span class=normal>377</span>
<span class=normal>378</span>
<span class=normal>379</span>
<span class=normal>380</span>
<span class=normal>381</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>imprint</span><span class=p>(</span><span class=n>node</span><span class=p>,</span> <span class=n>data</span><span class=p>,</span> <span class=n>update</span><span class=o>=</span><span class=kc>False</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Store attributes with value on a node</span>

<span class=sd>    Depending on the type of attribute it creates the correct parameter</span>
<span class=sd>    template. Houdini uses a template per type, see the docs for more</span>
<span class=sd>    information.</span>

<span class=sd>    http://www.sidefx.com/docs/houdini/hom/hou/ParmTemplate.html</span>

<span class=sd>    Because of some update glitch where you cannot overwrite existing</span>
<span class=sd>    ParmTemplates on node using:</span>
<span class=sd>        `setParmTemplates()` and `parmTuplesInFolder()`</span>
<span class=sd>    update is done in another pass.</span>

<span class=sd>    Args:</span>
<span class=sd>        node(hou.Node): node object from Houdini</span>
<span class=sd>        data(dict): collection of attributes and their value</span>
<span class=sd>        update (bool, optional): flag if imprint should update</span>
<span class=sd>            already existing data or leave them untouched and only</span>
<span class=sd>            add new.</span>

<span class=sd>    Returns:</span>
<span class=sd>        None</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=n>data</span><span class=p>:</span>
        <span class=k>return</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=n>node</span><span class=p>:</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>log</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=s2>&quot;Node is not set, calling imprint on invalid data.&quot;</span><span class=p>)</span>
        <span class=k>return</span>

    <span class=n>current_parms</span> <span class=o>=</span> <span class=p>{</span><span class=n>p</span><span class=o>.</span><span class=n>name</span><span class=p>():</span> <span class=n>p</span> <span class=k>for</span> <span class=n>p</span> <span class=ow>in</span> <span class=n>node</span><span class=o>.</span><span class=n>spareParms</span><span class=p>()}</span>
    <span class=n>update_parm_templates</span> <span class=o>=</span> <span class=p>[]</span>
    <span class=n>new_parm_templates</span> <span class=o>=</span> <span class=p>[]</span>

    <span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>data</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
        <span class=k>if</span> <span class=n>value</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>continue</span>

        <span class=n>parm_template</span> <span class=o>=</span> <span class=n>get_template_from_value</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=n>value</span><span class=p>)</span>

        <span class=k>if</span> <span class=n>key</span> <span class=ow>in</span> <span class=n>current_parms</span><span class=p>:</span>
            <span class=k>if</span> <span class=n>node</span><span class=o>.</span><span class=n>evalParm</span><span class=p>(</span><span class=n>key</span><span class=p>)</span> <span class=o>==</span> <span class=n>value</span><span class=p>:</span>
                <span class=k>continue</span>
            <span class=k>if</span> <span class=ow>not</span> <span class=n>update</span><span class=p>:</span>
                <span class=n>log</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>key</span><span class=si>}</span><span class=s2> already exists on </span><span class=si>{</span><span class=n>node</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=n>log</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;replacing </span><span class=si>{</span><span class=n>key</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
                <span class=n>update_parm_templates</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>parm_template</span><span class=p>)</span>
            <span class=k>continue</span>

        <span class=n>new_parm_templates</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>parm_template</span><span class=p>)</span>

    <span class=k>if</span> <span class=ow>not</span> <span class=n>new_parm_templates</span> <span class=ow>and</span> <span class=ow>not</span> <span class=n>update_parm_templates</span><span class=p>:</span>
        <span class=k>return</span>

    <span class=n>parm_group</span> <span class=o>=</span> <span class=n>node</span><span class=o>.</span><span class=n>parmTemplateGroup</span><span class=p>()</span>

    <span class=c1># Add new parm templates</span>
    <span class=k>if</span> <span class=n>new_parm_templates</span><span class=p>:</span>
        <span class=n>parm_folder</span> <span class=o>=</span> <span class=n>parm_group</span><span class=o>.</span><span class=n>findFolder</span><span class=p>(</span><span class=s2>&quot;Extra&quot;</span><span class=p>)</span>

        <span class=c1># if folder doesn&#39;t exist yet, create one and append to it,</span>
        <span class=c1># else append to existing one</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=n>parm_folder</span><span class=p>:</span>
            <span class=n>parm_folder</span> <span class=o>=</span> <span class=n>hou</span><span class=o>.</span><span class=n>FolderParmTemplate</span><span class=p>(</span><span class=s2>&quot;folder&quot;</span><span class=p>,</span> <span class=s2>&quot;Extra&quot;</span><span class=p>)</span>
            <span class=n>parm_folder</span><span class=o>.</span><span class=n>setParmTemplates</span><span class=p>(</span><span class=n>new_parm_templates</span><span class=p>)</span>
            <span class=n>parm_group</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>parm_folder</span><span class=p>)</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=c1># Add to parm template folder instance then replace with updated</span>
            <span class=c1># one in parm template group</span>
            <span class=k>for</span> <span class=n>template</span> <span class=ow>in</span> <span class=n>new_parm_templates</span><span class=p>:</span>
                <span class=n>parm_folder</span><span class=o>.</span><span class=n>addParmTemplate</span><span class=p>(</span><span class=n>template</span><span class=p>)</span>
            <span class=n>parm_group</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=n>parm_folder</span><span class=o>.</span><span class=n>name</span><span class=p>(),</span> <span class=n>parm_folder</span><span class=p>)</span>

    <span class=c1># Update existing parm templates</span>
    <span class=k>for</span> <span class=n>parm_template</span> <span class=ow>in</span> <span class=n>update_parm_templates</span><span class=p>:</span>
        <span class=n>parm_group</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=n>parm_template</span><span class=o>.</span><span class=n>name</span><span class=p>(),</span> <span class=n>parm_template</span><span class=p>)</span>

        <span class=c1># When replacing a parm with a parm of the same name it preserves its</span>
        <span class=c1># value if before the replacement the parm was not at the default,</span>
        <span class=c1># because it has a value override set. Since we&#39;re trying to update the</span>
        <span class=c1># parm by using the new value as `default` we enforce the parm is at</span>
        <span class=c1># default state</span>
        <span class=n>node</span><span class=o>.</span><span class=n>parm</span><span class=p>(</span><span class=n>parm_template</span><span class=o>.</span><span class=n>name</span><span class=p>())</span><span class=o>.</span><span class=n>revertToDefaults</span><span class=p>()</span>

    <span class=n>node</span><span class=o>.</span><span class=n>setParmTemplateGroup</span><span class=p>(</span><span class=n>parm_group</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.is_version_up_workfile_menu_enabled class="doc doc-heading"> <code class="highlight language-python"><span class=n>is_version_up_workfile_menu_enabled</span><span class=p>()</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-cached"><code>cached</code></small> </span> </h2> <div class="doc doc-contents "> <p>Check if the 'Version Up Workfile' menu should be enabled.</p> <p>It's cached because we don't care about updating the menu during the current Houdini session and this allows us to avoid re-querying the project settings each time.</p> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1603</span>
<span class=normal>1604</span>
<span class=normal>1605</span>
<span class=normal>1606</span>
<span class=normal>1607</span>
<span class=normal>1608</span>
<span class=normal>1609</span>
<span class=normal>1610</span>
<span class=normal>1611</span>
<span class=normal>1612</span>
<span class=normal>1613</span>
<span class=normal>1614</span>
<span class=normal>1615</span>
<span class=normal>1616</span>
<span class=normal>1617</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nd>@lru_cache</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
<span class=k>def</span><span class=w> </span><span class=nf>is_version_up_workfile_menu_enabled</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Check if the &#39;Version Up Workfile&#39; menu should be enabled.</span>

<span class=sd>    It&#39;s cached because we don&#39;t care about updating the menu during the</span>
<span class=sd>    current Houdini session and this allows us to avoid re-querying the</span>
<span class=sd>    project settings each time.</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>project_settings</span> <span class=o>=</span> <span class=n>get_current_project_settings</span><span class=p>()</span>
    <span class=k>if</span> <span class=n>project_settings</span><span class=p>[</span><span class=s2>&quot;core&quot;</span><span class=p>][</span><span class=s2>&quot;tools&quot;</span><span class=p>][</span><span class=s2>&quot;ayon_menu&quot;</span><span class=p>]</span><span class=o>.</span><span class=n>get</span><span class=p>(</span>
        <span class=s2>&quot;version_up_current_workfile&quot;</span>
    <span class=p>):</span>
        <span class=k>return</span> <span class=kc>True</span>
    <span class=k>return</span> <span class=kc>False</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.lsattr class="doc doc-heading"> <code class="highlight language-python"><span class=n>lsattr</span><span class=p>(</span><span class=n>attr</span><span class=p>,</span> <span class=n>value</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>root</span><span class=o>=</span><span class=s1>&#39;/&#39;</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Return nodes that have <code>attr</code> When <code>value</code> is not None it will only return nodes matching that value for the given attribute. Args: attr (str): Name of the attribute (hou.Parm) value (object, Optional): The value to compare the attribute too. When the default None is provided the value check is skipped. root (str): The root path in Houdini to search in. Returns: list: Matching nodes that have attribute with value.</p> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>384</span>
<span class=normal>385</span>
<span class=normal>386</span>
<span class=normal>387</span>
<span class=normal>388</span>
<span class=normal>389</span>
<span class=normal>390</span>
<span class=normal>391</span>
<span class=normal>392</span>
<span class=normal>393</span>
<span class=normal>394</span>
<span class=normal>395</span>
<span class=normal>396</span>
<span class=normal>397</span>
<span class=normal>398</span>
<span class=normal>399</span>
<span class=normal>400</span>
<span class=normal>401</span>
<span class=normal>402</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>lsattr</span><span class=p>(</span><span class=n>attr</span><span class=p>,</span> <span class=n>value</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>root</span><span class=o>=</span><span class=s2>&quot;/&quot;</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return nodes that have `attr`</span>
<span class=sd>     When `value` is not None it will only return nodes matching that value</span>
<span class=sd>     for the given attribute.</span>
<span class=sd>     Args:</span>
<span class=sd>         attr (str): Name of the attribute (hou.Parm)</span>
<span class=sd>         value (object, Optional): The value to compare the attribute too.</span>
<span class=sd>            When the default None is provided the value check is skipped.</span>
<span class=sd>        root (str): The root path in Houdini to search in.</span>
<span class=sd>    Returns:</span>
<span class=sd>        list: Matching nodes that have attribute with value.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=n>value</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=c1># Use allSubChildren() as allNodes() errors on nodes without</span>
        <span class=c1># permission to enter without a means to continue of querying</span>
        <span class=c1># the rest</span>
        <span class=n>nodes</span> <span class=o>=</span> <span class=n>hou</span><span class=o>.</span><span class=n>node</span><span class=p>(</span><span class=n>root</span><span class=p>)</span><span class=o>.</span><span class=n>allSubChildren</span><span class=p>()</span>
        <span class=k>return</span> <span class=p>[</span><span class=n>n</span> <span class=k>for</span> <span class=n>n</span> <span class=ow>in</span> <span class=n>nodes</span> <span class=k>if</span> <span class=n>n</span><span class=o>.</span><span class=n>parm</span><span class=p>(</span><span class=n>attr</span><span class=p>)]</span>
    <span class=k>return</span> <span class=n>lsattrs</span><span class=p>({</span><span class=n>attr</span><span class=p>:</span> <span class=n>value</span><span class=p>})</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.lsattrs class="doc doc-heading"> <code class="highlight language-python"><span class=n>lsattrs</span><span class=p>(</span><span class=n>attrs</span><span class=p>,</span> <span class=n>root</span><span class=o>=</span><span class=s1>&#39;/&#39;</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Return nodes matching <code>key</code> and <code>value</code> Arguments: attrs (dict): collection of attribute: value root (str): The root path in Houdini to search in. Example: &gt;&gt; lsattrs({"id": "myId"}) ["myNode"] &gt;&gt; lsattr("id") ["myNode", "myOtherNode"] Returns: list: Matching nodes that have attribute with value.</p> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>405</span>
<span class=normal>406</span>
<span class=normal>407</span>
<span class=normal>408</span>
<span class=normal>409</span>
<span class=normal>410</span>
<span class=normal>411</span>
<span class=normal>412</span>
<span class=normal>413</span>
<span class=normal>414</span>
<span class=normal>415</span>
<span class=normal>416</span>
<span class=normal>417</span>
<span class=normal>418</span>
<span class=normal>419</span>
<span class=normal>420</span>
<span class=normal>421</span>
<span class=normal>422</span>
<span class=normal>423</span>
<span class=normal>424</span>
<span class=normal>425</span>
<span class=normal>426</span>
<span class=normal>427</span>
<span class=normal>428</span>
<span class=normal>429</span>
<span class=normal>430</span>
<span class=normal>431</span>
<span class=normal>432</span>
<span class=normal>433</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>lsattrs</span><span class=p>(</span><span class=n>attrs</span><span class=p>,</span> <span class=n>root</span><span class=o>=</span><span class=s2>&quot;/&quot;</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return nodes matching `key` and `value`</span>
<span class=sd>    Arguments:</span>
<span class=sd>        attrs (dict): collection of attribute: value</span>
<span class=sd>        root (str): The root path in Houdini to search in.</span>
<span class=sd>    Example:</span>
<span class=sd>        &gt;&gt; lsattrs({&quot;id&quot;: &quot;myId&quot;})</span>
<span class=sd>        [&quot;myNode&quot;]</span>
<span class=sd>        &gt;&gt; lsattr(&quot;id&quot;)</span>
<span class=sd>        [&quot;myNode&quot;, &quot;myOtherNode&quot;]</span>
<span class=sd>    Returns:</span>
<span class=sd>        list: Matching nodes that have attribute with value.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=n>matches</span> <span class=o>=</span> <span class=nb>set</span><span class=p>()</span>
    <span class=c1># Use allSubChildren() as allNodes() errors on nodes without</span>
    <span class=c1># permission to enter without a means to continue of querying</span>
    <span class=c1># the rest</span>
    <span class=n>nodes</span> <span class=o>=</span> <span class=n>hou</span><span class=o>.</span><span class=n>node</span><span class=p>(</span><span class=n>root</span><span class=p>)</span><span class=o>.</span><span class=n>allSubChildren</span><span class=p>()</span>
    <span class=k>for</span> <span class=n>node</span> <span class=ow>in</span> <span class=n>nodes</span><span class=p>:</span>
        <span class=k>for</span> <span class=n>attr</span> <span class=ow>in</span> <span class=n>attrs</span><span class=p>:</span>
            <span class=k>if</span> <span class=ow>not</span> <span class=n>node</span><span class=o>.</span><span class=n>parm</span><span class=p>(</span><span class=n>attr</span><span class=p>):</span>
                <span class=k>continue</span>
            <span class=k>elif</span> <span class=n>node</span><span class=o>.</span><span class=n>evalParm</span><span class=p>(</span><span class=n>attr</span><span class=p>)</span> <span class=o>!=</span> <span class=n>attrs</span><span class=p>[</span><span class=n>attr</span><span class=p>]:</span>
                <span class=k>continue</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=n>matches</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>node</span><span class=p>)</span>

    <span class=k>return</span> <span class=nb>list</span><span class=p>(</span><span class=n>matches</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.maintained_selection class="doc doc-heading"> <code class="highlight language-python"><span class=n>maintained_selection</span><span class=p>()</span></code> </h2> <div class="doc doc-contents "> <p>Maintain selection during context Example: &gt;&gt;&gt; with maintained_selection(): ... # Modify selection ... node.setSelected(on=False, clear_all_selected=True) &gt;&gt;&gt; # Selection restored</p> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>465</span>
<span class=normal>466</span>
<span class=normal>467</span>
<span class=normal>468</span>
<span class=normal>469</span>
<span class=normal>470</span>
<span class=normal>471</span>
<span class=normal>472</span>
<span class=normal>473</span>
<span class=normal>474</span>
<span class=normal>475</span>
<span class=normal>476</span>
<span class=normal>477</span>
<span class=normal>478</span>
<span class=normal>479</span>
<span class=normal>480</span>
<span class=normal>481</span>
<span class=normal>482</span>
<span class=normal>483</span>
<span class=normal>484</span>
<span class=normal>485</span>
<span class=normal>486</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nd>@contextmanager</span>
<span class=k>def</span><span class=w> </span><span class=nf>maintained_selection</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Maintain selection during context</span>
<span class=sd>    Example:</span>
<span class=sd>        &gt;&gt;&gt; with maintained_selection():</span>
<span class=sd>        ...     # Modify selection</span>
<span class=sd>        ...     node.setSelected(on=False, clear_all_selected=True)</span>
<span class=sd>        &gt;&gt;&gt; # Selection restored</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=n>previous_selection</span> <span class=o>=</span> <span class=n>hou</span><span class=o>.</span><span class=n>selectedNodes</span><span class=p>()</span>
    <span class=k>try</span><span class=p>:</span>
        <span class=k>yield</span>
    <span class=k>finally</span><span class=p>:</span>
        <span class=c1># Clear the selection</span>
        <span class=c1># todo: does hou.clearAllSelected() do the same?</span>
        <span class=k>for</span> <span class=n>node</span> <span class=ow>in</span> <span class=n>hou</span><span class=o>.</span><span class=n>selectedNodes</span><span class=p>():</span>
            <span class=n>node</span><span class=o>.</span><span class=n>setSelected</span><span class=p>(</span><span class=n>on</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>

        <span class=k>if</span> <span class=n>previous_selection</span><span class=p>:</span>
            <span class=k>for</span> <span class=n>node</span> <span class=ow>in</span> <span class=n>previous_selection</span><span class=p>:</span>
                <span class=n>node</span><span class=o>.</span><span class=n>setSelected</span><span class=p>(</span><span class=n>on</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.parm_values class="doc doc-heading"> <code class="highlight language-python"><span class=n>parm_values</span><span class=p>(</span><span class=n>overrides</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Override Parameter values during the context. Arguments: overrides (List[Tuple[hou.Parm, Any]]): The overrides per parm that should be applied during context.</p> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>489</span>
<span class=normal>490</span>
<span class=normal>491</span>
<span class=normal>492</span>
<span class=normal>493</span>
<span class=normal>494</span>
<span class=normal>495</span>
<span class=normal>496</span>
<span class=normal>497</span>
<span class=normal>498</span>
<span class=normal>499</span>
<span class=normal>500</span>
<span class=normal>501</span>
<span class=normal>502</span>
<span class=normal>503</span>
<span class=normal>504</span>
<span class=normal>505</span>
<span class=normal>506</span>
<span class=normal>507</span>
<span class=normal>508</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nd>@contextmanager</span>
<span class=k>def</span><span class=w> </span><span class=nf>parm_values</span><span class=p>(</span><span class=n>overrides</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Override Parameter values during the context.</span>
<span class=sd>    Arguments:</span>
<span class=sd>        overrides (List[Tuple[hou.Parm, Any]]): The overrides per parm</span>
<span class=sd>            that should be applied during context.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=n>originals</span> <span class=o>=</span> <span class=p>[]</span>
    <span class=k>try</span><span class=p>:</span>
        <span class=k>for</span> <span class=n>parm</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>overrides</span><span class=p>:</span>
            <span class=n>originals</span><span class=o>.</span><span class=n>append</span><span class=p>((</span><span class=n>parm</span><span class=p>,</span> <span class=n>parm</span><span class=o>.</span><span class=n>eval</span><span class=p>()))</span>
            <span class=n>parm</span><span class=o>.</span><span class=n>set</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
        <span class=k>yield</span>
    <span class=k>finally</span><span class=p>:</span>
        <span class=k>for</span> <span class=n>parm</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>originals</span><span class=p>:</span>
            <span class=c1># Parameter might not exist anymore so first</span>
            <span class=c1># check whether it&#39;s still valid</span>
            <span class=k>if</span> <span class=n>hou</span><span class=o>.</span><span class=n>parm</span><span class=p>(</span><span class=n>parm</span><span class=o>.</span><span class=n>path</span><span class=p>()):</span>
                <span class=n>parm</span><span class=o>.</span><span class=n>set</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.prompt_reset_context class="doc doc-heading"> <code class="highlight language-python"><span class=n>prompt_reset_context</span><span class=p>()</span></code> </h2> <div class="doc doc-contents "> <p>Prompt the user what context settings to reset. This prompt is used on saving to a different task to allow the scene to get matched to the new context.</p> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1466</span>
<span class=normal>1467</span>
<span class=normal>1468</span>
<span class=normal>1469</span>
<span class=normal>1470</span>
<span class=normal>1471</span>
<span class=normal>1472</span>
<span class=normal>1473</span>
<span class=normal>1474</span>
<span class=normal>1475</span>
<span class=normal>1476</span>
<span class=normal>1477</span>
<span class=normal>1478</span>
<span class=normal>1479</span>
<span class=normal>1480</span>
<span class=normal>1481</span>
<span class=normal>1482</span>
<span class=normal>1483</span>
<span class=normal>1484</span>
<span class=normal>1485</span>
<span class=normal>1486</span>
<span class=normal>1487</span>
<span class=normal>1488</span>
<span class=normal>1489</span>
<span class=normal>1490</span>
<span class=normal>1491</span>
<span class=normal>1492</span>
<span class=normal>1493</span>
<span class=normal>1494</span>
<span class=normal>1495</span>
<span class=normal>1496</span>
<span class=normal>1497</span>
<span class=normal>1498</span>
<span class=normal>1499</span>
<span class=normal>1500</span>
<span class=normal>1501</span>
<span class=normal>1502</span>
<span class=normal>1503</span>
<span class=normal>1504</span>
<span class=normal>1505</span>
<span class=normal>1506</span>
<span class=normal>1507</span>
<span class=normal>1508</span>
<span class=normal>1509</span>
<span class=normal>1510</span>
<span class=normal>1511</span>
<span class=normal>1512</span>
<span class=normal>1513</span>
<span class=normal>1514</span>
<span class=normal>1515</span>
<span class=normal>1516</span>
<span class=normal>1517</span>
<span class=normal>1518</span>
<span class=normal>1519</span>
<span class=normal>1520</span>
<span class=normal>1521</span>
<span class=normal>1522</span>
<span class=normal>1523</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>prompt_reset_context</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Prompt the user what context settings to reset.</span>
<span class=sd>    This prompt is used on saving to a different task to allow the scene to</span>
<span class=sd>    get matched to the new context.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=c1># TODO: Cleanup this prototyped mess of imports and odd dialog</span>
    <span class=kn>from</span><span class=w> </span><span class=nn>ayon_core.tools.attribute_defs.dialog</span><span class=w> </span><span class=kn>import</span> <span class=p>(</span>
        <span class=n>AttributeDefinitionsDialog</span>
    <span class=p>)</span>
    <span class=kn>from</span><span class=w> </span><span class=nn>ayon_core.style</span><span class=w> </span><span class=kn>import</span> <span class=n>load_stylesheet</span>
    <span class=kn>from</span><span class=w> </span><span class=nn>ayon_core.lib</span><span class=w> </span><span class=kn>import</span> <span class=n>BoolDef</span><span class=p>,</span> <span class=n>UILabelDef</span>

    <span class=n>definitions</span> <span class=o>=</span> <span class=p>[</span>
        <span class=n>UILabelDef</span><span class=p>(</span>
            <span class=n>label</span><span class=o>=</span><span class=p>(</span>
                <span class=s2>&quot;You are saving your workfile into a different folder or task.&quot;</span>
                <span class=s2>&quot;</span><span class=se>\n\n</span><span class=s2>&quot;</span>
                <span class=s2>&quot;Would you like to update some settings to the new context?</span><span class=se>\n</span><span class=s2>&quot;</span>
            <span class=p>)</span>
        <span class=p>),</span>
        <span class=n>BoolDef</span><span class=p>(</span>
            <span class=s2>&quot;fps&quot;</span><span class=p>,</span>
            <span class=n>label</span><span class=o>=</span><span class=s2>&quot;FPS&quot;</span><span class=p>,</span>
            <span class=n>tooltip</span><span class=o>=</span><span class=s2>&quot;Reset workfile FPS&quot;</span><span class=p>,</span>
            <span class=n>default</span><span class=o>=</span><span class=kc>True</span>
        <span class=p>),</span>
        <span class=n>BoolDef</span><span class=p>(</span>
            <span class=s2>&quot;frame_range&quot;</span><span class=p>,</span>
            <span class=n>label</span><span class=o>=</span><span class=s2>&quot;Frame Range&quot;</span><span class=p>,</span>
            <span class=n>tooltip</span><span class=o>=</span><span class=s2>&quot;Reset workfile start and end frame ranges&quot;</span><span class=p>,</span>
            <span class=n>default</span><span class=o>=</span><span class=kc>True</span>
        <span class=p>),</span>
        <span class=n>BoolDef</span><span class=p>(</span>
            <span class=s2>&quot;instances&quot;</span><span class=p>,</span>
            <span class=n>label</span><span class=o>=</span><span class=s2>&quot;Publish instances&quot;</span><span class=p>,</span>
            <span class=n>tooltip</span><span class=o>=</span><span class=s2>&quot;Update all publish instance&#39;s folder and task to match &quot;</span>
                    <span class=s2>&quot;the new folder and task&quot;</span><span class=p>,</span>
            <span class=n>default</span><span class=o>=</span><span class=kc>True</span>
        <span class=p>),</span>
    <span class=p>]</span>

    <span class=n>dialog</span> <span class=o>=</span> <span class=n>AttributeDefinitionsDialog</span><span class=p>(</span><span class=n>definitions</span><span class=p>)</span>
    <span class=n>dialog</span><span class=o>.</span><span class=n>setWindowTitle</span><span class=p>(</span><span class=s2>&quot;Saving to different context.&quot;</span><span class=p>)</span>
    <span class=n>dialog</span><span class=o>.</span><span class=n>setStyleSheet</span><span class=p>(</span><span class=n>load_stylesheet</span><span class=p>())</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=n>dialog</span><span class=o>.</span><span class=n>exec_</span><span class=p>():</span>
        <span class=k>return</span> <span class=kc>None</span>

    <span class=n>options</span> <span class=o>=</span> <span class=n>dialog</span><span class=o>.</span><span class=n>get_values</span><span class=p>()</span>
    <span class=k>if</span> <span class=n>options</span><span class=p>[</span><span class=s2>&quot;fps&quot;</span><span class=p>]</span> <span class=ow>or</span> <span class=n>options</span><span class=p>[</span><span class=s2>&quot;frame_range&quot;</span><span class=p>]:</span>
        <span class=n>reset_framerange</span><span class=p>(</span>
            <span class=n>fps</span><span class=o>=</span><span class=n>options</span><span class=p>[</span><span class=s2>&quot;fps&quot;</span><span class=p>],</span>
            <span class=n>frame_range</span><span class=o>=</span><span class=n>options</span><span class=p>[</span><span class=s2>&quot;frame_range&quot;</span><span class=p>]</span>
        <span class=p>)</span>

    <span class=k>if</span> <span class=n>options</span><span class=p>[</span><span class=s2>&quot;instances&quot;</span><span class=p>]:</span>
        <span class=n>update_content_on_context_change</span><span class=p>()</span>

    <span class=n>dialog</span><span class=o>.</span><span class=n>deleteLater</span><span class=p>()</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.publisher_show_and_publish class="doc doc-heading"> <code class="highlight language-python"><span class=n>publisher_show_and_publish</span><span class=p>(</span><span class=n>comment</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Open publisher window and trigger publishing action.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>comment</code> </td> <td> <code><span title=Optional>Optional</span>[<span title=str>str</span>]</code> </td> <td> <div class=doc-md-description> <p>Comment to set in publisher window.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1044</span>
<span class=normal>1045</span>
<span class=normal>1046</span>
<span class=normal>1047</span>
<span class=normal>1048</span>
<span class=normal>1049</span>
<span class=normal>1050</span>
<span class=normal>1051</span>
<span class=normal>1052</span>
<span class=normal>1053</span>
<span class=normal>1054</span>
<span class=normal>1055</span>
<span class=normal>1056</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>publisher_show_and_publish</span><span class=p>(</span><span class=n>comment</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Open publisher window and trigger publishing action.</span>

<span class=sd>    Args:</span>
<span class=sd>        comment (Optional[str]): Comment to set in publisher window.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=n>main_window</span> <span class=o>=</span> <span class=n>get_main_window</span><span class=p>()</span>
    <span class=n>publisher_window</span> <span class=o>=</span> <span class=n>get_tool_by_name</span><span class=p>(</span>
        <span class=n>tool_name</span><span class=o>=</span><span class=s2>&quot;publisher&quot;</span><span class=p>,</span>
        <span class=n>parent</span><span class=o>=</span><span class=n>main_window</span><span class=p>,</span>
    <span class=p>)</span>
    <span class=n>publisher_window</span><span class=o>.</span><span class=n>show_and_publish</span><span class=p>(</span><span class=n>comment</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.read class="doc doc-heading"> <code class="highlight language-python"><span class=n>read</span><span class=p>(</span><span class=n>node</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Read the container data in to a dict</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>node(hou.Node)</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Houdini node</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>dict</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>436</span>
<span class=normal>437</span>
<span class=normal>438</span>
<span class=normal>439</span>
<span class=normal>440</span>
<span class=normal>441</span>
<span class=normal>442</span>
<span class=normal>443</span>
<span class=normal>444</span>
<span class=normal>445</span>
<span class=normal>446</span>
<span class=normal>447</span>
<span class=normal>448</span>
<span class=normal>449</span>
<span class=normal>450</span>
<span class=normal>451</span>
<span class=normal>452</span>
<span class=normal>453</span>
<span class=normal>454</span>
<span class=normal>455</span>
<span class=normal>456</span>
<span class=normal>457</span>
<span class=normal>458</span>
<span class=normal>459</span>
<span class=normal>460</span>
<span class=normal>461</span>
<span class=normal>462</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>read</span><span class=p>(</span><span class=n>node</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Read the container data in to a dict</span>

<span class=sd>    Args:</span>
<span class=sd>        node(hou.Node): Houdini node</span>

<span class=sd>    Returns:</span>
<span class=sd>        dict</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=c1># `spareParms` returns a tuple of hou.Parm objects</span>
    <span class=n>data</span> <span class=o>=</span> <span class=p>{}</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=n>node</span><span class=p>:</span>
        <span class=k>return</span> <span class=n>data</span>
    <span class=k>for</span> <span class=n>parameter</span> <span class=ow>in</span> <span class=n>node</span><span class=o>.</span><span class=n>spareParms</span><span class=p>():</span>
        <span class=n>value</span> <span class=o>=</span> <span class=n>parameter</span><span class=o>.</span><span class=n>eval</span><span class=p>()</span>
        <span class=c1># test if value is json encoded dict</span>
        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>str</span><span class=p>)</span> <span class=ow>and</span> \
                <span class=n>value</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=n>JSON_PREFIX</span><span class=p>):</span>
            <span class=k>try</span><span class=p>:</span>
                <span class=n>value</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>loads</span><span class=p>(</span><span class=n>value</span><span class=p>[</span><span class=nb>len</span><span class=p>(</span><span class=n>JSON_PREFIX</span><span class=p>):])</span>
            <span class=k>except</span> <span class=n>json</span><span class=o>.</span><span class=n>JSONDecodeError</span><span class=p>:</span>
                <span class=c1># not a json</span>
                <span class=k>pass</span>
        <span class=n>data</span><span class=p>[</span><span class=n>parameter</span><span class=o>.</span><span class=n>name</span><span class=p>()]</span> <span class=o>=</span> <span class=n>value</span>

    <span class=k>return</span> <span class=n>data</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.remove_all_thumbnails class="doc doc-heading"> <code class="highlight language-python"><span class=n>remove_all_thumbnails</span><span class=p>(</span><span class=n>node</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Remove all node thumbnails.</p> <p>Removes all network background images that are linked to the given node.</p> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1358</span>
<span class=normal>1359</span>
<span class=normal>1360</span>
<span class=normal>1361</span>
<span class=normal>1362</span>
<span class=normal>1363</span>
<span class=normal>1364</span>
<span class=normal>1365</span>
<span class=normal>1366</span>
<span class=normal>1367</span>
<span class=normal>1368</span>
<span class=normal>1369</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>remove_all_thumbnails</span><span class=p>(</span><span class=n>node</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Remove all node thumbnails.</span>

<span class=sd>    Removes all network background images that are linked to the given node.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>parent</span> <span class=o>=</span> <span class=n>node</span><span class=o>.</span><span class=n>parent</span><span class=p>()</span>
    <span class=n>images</span> <span class=o>=</span> <span class=n>get_background_images</span><span class=p>(</span><span class=n>parent</span><span class=p>)</span>
    <span class=n>node_path</span> <span class=o>=</span> <span class=n>node</span><span class=o>.</span><span class=n>path</span><span class=p>()</span>
    <span class=n>images</span> <span class=o>=</span> <span class=p>[</span>
        <span class=n>image</span> <span class=k>for</span> <span class=n>image</span> <span class=ow>in</span> <span class=n>images</span> <span class=k>if</span> <span class=n>image</span><span class=o>.</span><span class=n>relativeToPath</span><span class=p>()</span> <span class=o>!=</span> <span class=n>node_path</span>
    <span class=p>]</span>
    <span class=n>set_background_images</span><span class=p>(</span><span class=n>parent</span><span class=p>,</span> <span class=n>images</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.render_rop class="doc doc-heading"> <code class="highlight language-python"><span class=n>render_rop</span><span class=p>(</span><span class=n>ropnode</span><span class=p>,</span> <span class=n>frame_range</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Render ROP node utility for Publishing.</p> <p>This renders a ROP node with the settings we want during Publishing.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>ropnode</code> </td> <td> <code><span title=hou.RopNode>RopNode</span></code> </td> <td> <div class=doc-md-description> <p>Node to render</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>frame_range</code> </td> <td> <code><span title=tuple>tuple</span></code> </td> <td> <div class=doc-md-description> <p>Copied from Houdini's help.. Sequence of 2 or 3 values, overrides the frame range and frame increment to render. The first two values specify the start and end frames, and the third value (if given) specifies the frame increment. If no frame increment is given and the ROP node doesn't specify a frame increment, then a value of 1 will be used. If no frame range is given, and the ROP node doesn't specify a frame range, then the current frame will be rendered.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>254</span>
<span class=normal>255</span>
<span class=normal>256</span>
<span class=normal>257</span>
<span class=normal>258</span>
<span class=normal>259</span>
<span class=normal>260</span>
<span class=normal>261</span>
<span class=normal>262</span>
<span class=normal>263</span>
<span class=normal>264</span>
<span class=normal>265</span>
<span class=normal>266</span>
<span class=normal>267</span>
<span class=normal>268</span>
<span class=normal>269</span>
<span class=normal>270</span>
<span class=normal>271</span>
<span class=normal>272</span>
<span class=normal>273</span>
<span class=normal>274</span>
<span class=normal>275</span>
<span class=normal>276</span>
<span class=normal>277</span>
<span class=normal>278</span>
<span class=normal>279</span>
<span class=normal>280</span>
<span class=normal>281</span>
<span class=normal>282</span>
<span class=normal>283</span>
<span class=normal>284</span>
<span class=normal>285</span>
<span class=normal>286</span>
<span class=normal>287</span>
<span class=normal>288</span>
<span class=normal>289</span>
<span class=normal>290</span>
<span class=normal>291</span>
<span class=normal>292</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>render_rop</span><span class=p>(</span><span class=n>ropnode</span><span class=p>,</span> <span class=n>frame_range</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Render ROP node utility for Publishing.</span>

<span class=sd>    This renders a ROP node with the settings we want during Publishing.</span>

<span class=sd>    Args:</span>
<span class=sd>        ropnode (hou.RopNode): Node to render</span>
<span class=sd>        frame_range (tuple): Copied from Houdini&#39;s help..</span>
<span class=sd>            Sequence of 2 or 3 values, overrides the frame range and frame</span>
<span class=sd>            increment to render. The first two values specify the start and</span>
<span class=sd>            end frames, and the third value (if given) specifies the frame</span>
<span class=sd>            increment. If no frame increment is given and the ROP node</span>
<span class=sd>            doesn&#39;t specify a frame increment, then a value of 1 will be</span>
<span class=sd>            used. If no frame range is given, and the ROP node doesn&#39;t</span>
<span class=sd>            specify a frame range, then the current frame will be rendered.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>if</span> <span class=n>frame_range</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>frame_range</span> <span class=o>=</span> <span class=p>()</span>

    <span class=c1># Print verbose when in batch mode without UI</span>
    <span class=n>verbose</span> <span class=o>=</span> <span class=ow>not</span> <span class=n>hou</span><span class=o>.</span><span class=n>isUIAvailable</span><span class=p>()</span>

    <span class=c1># Render</span>
    <span class=k>try</span><span class=p>:</span>
        <span class=n>ropnode</span><span class=o>.</span><span class=n>render</span><span class=p>(</span><span class=n>verbose</span><span class=o>=</span><span class=n>verbose</span><span class=p>,</span>
                       <span class=c1># Allow Deadline to capture completion percentage</span>
                       <span class=n>output_progress</span><span class=o>=</span><span class=n>verbose</span><span class=p>,</span>
                       <span class=c1># Render only this node</span>
                       <span class=c1># (do not render any of its dependencies)</span>
                       <span class=n>ignore_inputs</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
                       <span class=n>frame_range</span><span class=o>=</span><span class=n>frame_range</span><span class=p>)</span>
    <span class=k>except</span> <span class=n>hou</span><span class=o>.</span><span class=n>Error</span> <span class=k>as</span> <span class=n>exc</span><span class=p>:</span>
        <span class=c1># The hou.Error is not inherited from a Python Exception class,</span>
        <span class=c1># so we explicitly capture the houdini error, otherwise pyblish</span>
        <span class=c1># will remain hanging.</span>
        <span class=kn>import</span><span class=w> </span><span class=nn>traceback</span>
        <span class=n>traceback</span><span class=o>.</span><span class=n>print_exc</span><span class=p>()</span>
        <span class=k>raise</span> <span class=ne>RuntimeError</span><span class=p>(</span><span class=s2>&quot;Render failed: </span><span class=si>{0}</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>exc</span><span class=p>))</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.reset_framerange class="doc doc-heading"> <code class="highlight language-python"><span class=n>reset_framerange</span><span class=p>(</span><span class=n>fps</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>frame_range</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Set frame range and FPS to current folder.</p> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>511</span>
<span class=normal>512</span>
<span class=normal>513</span>
<span class=normal>514</span>
<span class=normal>515</span>
<span class=normal>516</span>
<span class=normal>517</span>
<span class=normal>518</span>
<span class=normal>519</span>
<span class=normal>520</span>
<span class=normal>521</span>
<span class=normal>522</span>
<span class=normal>523</span>
<span class=normal>524</span>
<span class=normal>525</span>
<span class=normal>526</span>
<span class=normal>527</span>
<span class=normal>528</span>
<span class=normal>529</span>
<span class=normal>530</span>
<span class=normal>531</span>
<span class=normal>532</span>
<span class=normal>533</span>
<span class=normal>534</span>
<span class=normal>535</span>
<span class=normal>536</span>
<span class=normal>537</span>
<span class=normal>538</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>reset_framerange</span><span class=p>(</span><span class=n>fps</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>frame_range</span><span class=o>=</span><span class=kc>True</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Set frame range and FPS to current folder.&quot;&quot;&quot;</span>

    <span class=n>task_entity</span> <span class=o>=</span> <span class=n>get_current_task_entity</span><span class=p>(</span><span class=n>fields</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;attrib&quot;</span><span class=p>})</span>

    <span class=c1># Set FPS</span>
    <span class=k>if</span> <span class=n>fps</span><span class=p>:</span>
        <span class=n>fps</span> <span class=o>=</span> <span class=n>get_entity_fps</span><span class=p>(</span><span class=n>task_entity</span><span class=p>)</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Setting scene FPS to </span><span class=si>{}</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=nb>int</span><span class=p>(</span><span class=n>fps</span><span class=p>)))</span>
        <span class=n>set_scene_fps</span><span class=p>(</span><span class=n>fps</span><span class=p>)</span>

    <span class=k>if</span> <span class=n>frame_range</span><span class=p>:</span>

        <span class=c1># Set Start and End Frames</span>
        <span class=n>task_attrib</span> <span class=o>=</span> <span class=n>task_entity</span><span class=p>[</span><span class=s2>&quot;attrib&quot;</span><span class=p>]</span>
        <span class=n>frame_start</span> <span class=o>=</span> <span class=n>task_attrib</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;frameStart&quot;</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
        <span class=n>frame_end</span> <span class=o>=</span> <span class=n>task_attrib</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;frameEnd&quot;</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>

        <span class=n>handle_start</span> <span class=o>=</span> <span class=n>task_attrib</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;handleStart&quot;</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
        <span class=n>handle_end</span> <span class=o>=</span> <span class=n>task_attrib</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;handleEnd&quot;</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>

        <span class=n>frame_start</span> <span class=o>-=</span> <span class=nb>int</span><span class=p>(</span><span class=n>handle_start</span><span class=p>)</span>
        <span class=n>frame_end</span> <span class=o>+=</span> <span class=nb>int</span><span class=p>(</span><span class=n>handle_end</span><span class=p>)</span>

        <span class=c1># Set frame range and FPS</span>
        <span class=n>hou</span><span class=o>.</span><span class=n>playbar</span><span class=o>.</span><span class=n>setFrameRange</span><span class=p>(</span><span class=n>frame_start</span><span class=p>,</span> <span class=n>frame_end</span><span class=p>)</span>
        <span class=n>hou</span><span class=o>.</span><span class=n>playbar</span><span class=o>.</span><span class=n>setPlaybackRange</span><span class=p>(</span><span class=n>frame_start</span><span class=p>,</span> <span class=n>frame_end</span><span class=p>)</span>
        <span class=n>hou</span><span class=o>.</span><span class=n>setFrame</span><span class=p>(</span><span class=n>frame_start</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.sceneview_snapshot class="doc doc-heading"> <code class="highlight language-python"><span class=n>sceneview_snapshot</span><span class=p>(</span><span class=n>sceneview</span><span class=p>,</span> <span class=n>filepath</span><span class=o>=</span><span class=s1>&#39;$HIP/thumbnails/$HIPNAME.$F4.jpg&#39;</span><span class=p>,</span> <span class=n>frame_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>frame_end</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Take a snapshot of your scene view.</p> <p>It takes snapshot of your scene view for the given frame range. So, it's capable of generating snapshots image sequence. It works in different Houdini context e.g. Objects, Solaris</p> <p>Example:: &gt;&gt;&gt; from ayon_houdini.api import lib &gt;&gt;&gt; sceneview = hou.ui.paneTabOfType(hou.paneTabType.SceneViewer) &gt;&gt;&gt; lib.sceneview_snapshot(sceneview)</p> <details class=notes open> <summary>Notes</summary> <p>.png output will render poorly, so use .jpg.</p> <p>How it works: Get the current sceneviewer (may be more than one or hidden) and screengrab the perspective viewport to a file in the publish location to be picked up with the publish.</p> <p>Credits: https://www.sidefx.com/forum/topic/42808/?page=1#post-354796</p> </details> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>sceneview</code> </td> <td> <code><span title=hou.SceneViewer>SceneViewer</span></code> </td> <td> <div class=doc-md-description> <p>The scene view pane from which you want to take a snapshot.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>filepath</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>thumbnail filepath. it expects <code>$F4</code> token when frame_end is bigger than frame_star other wise each frame will override its predecessor.</p> </div> </td> <td> <code>&#39;$HIP/thumbnails/$HIPNAME.$F4.jpg&#39;</code> </td> </tr> <tr class=doc-section-item> <td> <code>frame_start</code> </td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>the frame at which snapshot starts</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>frame_end</code> </td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>the frame at which snapshot ends</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1164</span>
<span class=normal>1165</span>
<span class=normal>1166</span>
<span class=normal>1167</span>
<span class=normal>1168</span>
<span class=normal>1169</span>
<span class=normal>1170</span>
<span class=normal>1171</span>
<span class=normal>1172</span>
<span class=normal>1173</span>
<span class=normal>1174</span>
<span class=normal>1175</span>
<span class=normal>1176</span>
<span class=normal>1177</span>
<span class=normal>1178</span>
<span class=normal>1179</span>
<span class=normal>1180</span>
<span class=normal>1181</span>
<span class=normal>1182</span>
<span class=normal>1183</span>
<span class=normal>1184</span>
<span class=normal>1185</span>
<span class=normal>1186</span>
<span class=normal>1187</span>
<span class=normal>1188</span>
<span class=normal>1189</span>
<span class=normal>1190</span>
<span class=normal>1191</span>
<span class=normal>1192</span>
<span class=normal>1193</span>
<span class=normal>1194</span>
<span class=normal>1195</span>
<span class=normal>1196</span>
<span class=normal>1197</span>
<span class=normal>1198</span>
<span class=normal>1199</span>
<span class=normal>1200</span>
<span class=normal>1201</span>
<span class=normal>1202</span>
<span class=normal>1203</span>
<span class=normal>1204</span>
<span class=normal>1205</span>
<span class=normal>1206</span>
<span class=normal>1207</span>
<span class=normal>1208</span>
<span class=normal>1209</span>
<span class=normal>1210</span>
<span class=normal>1211</span>
<span class=normal>1212</span>
<span class=normal>1213</span>
<span class=normal>1214</span>
<span class=normal>1215</span>
<span class=normal>1216</span>
<span class=normal>1217</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>sceneview_snapshot</span><span class=p>(</span>
        <span class=n>sceneview</span><span class=p>,</span>
        <span class=n>filepath</span><span class=o>=</span><span class=s2>&quot;$HIP/thumbnails/$HIPNAME.$F4.jpg&quot;</span><span class=p>,</span>
        <span class=n>frame_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
        <span class=n>frame_end</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Take a snapshot of your scene view.</span>

<span class=sd>    It takes snapshot of your scene view for the given frame range.</span>
<span class=sd>    So, it&#39;s capable of generating snapshots image sequence.</span>
<span class=sd>    It works in different Houdini context e.g. Objects, Solaris</span>

<span class=sd>    Example::</span>
<span class=sd>        &gt;&gt;&gt; from ayon_houdini.api import lib</span>
<span class=sd>        &gt;&gt;&gt; sceneview = hou.ui.paneTabOfType(hou.paneTabType.SceneViewer)</span>
<span class=sd>        &gt;&gt;&gt; lib.sceneview_snapshot(sceneview)</span>

<span class=sd>    Notes:</span>
<span class=sd>        .png output will render poorly, so use .jpg.</span>

<span class=sd>        How it works:</span>
<span class=sd>            Get the current sceneviewer (may be more than one or hidden)</span>
<span class=sd>            and screengrab the perspective viewport to a file in the</span>
<span class=sd>            publish location to be picked up with the publish.</span>

<span class=sd>        Credits:</span>
<span class=sd>            https://www.sidefx.com/forum/topic/42808/?page=1#post-354796</span>

<span class=sd>    Args:</span>
<span class=sd>        sceneview (hou.SceneViewer): The scene view pane from which you want</span>
<span class=sd>                                     to take a snapshot.</span>
<span class=sd>        filepath (str): thumbnail filepath. it expects `$F4` token</span>
<span class=sd>                        when frame_end is bigger than frame_star other wise</span>
<span class=sd>                        each frame will override its predecessor.</span>
<span class=sd>        frame_start (int): the frame at which snapshot starts</span>
<span class=sd>        frame_end (int): the frame at which snapshot ends</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>if</span> <span class=n>frame_start</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>frame_start</span> <span class=o>=</span> <span class=n>hou</span><span class=o>.</span><span class=n>frame</span><span class=p>()</span>
    <span class=k>if</span> <span class=n>frame_end</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>frame_end</span> <span class=o>=</span> <span class=n>frame_start</span>

    <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>sceneview</span><span class=p>,</span> <span class=n>hou</span><span class=o>.</span><span class=n>SceneViewer</span><span class=p>):</span>
        <span class=n>log</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=s2>&quot;Wrong Input. </span><span class=si>{}</span><span class=s2> is not of type hou.SceneViewer.&quot;</span>
                  <span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>sceneview</span><span class=p>))</span>
        <span class=k>return</span>
    <span class=n>viewport</span> <span class=o>=</span> <span class=n>sceneview</span><span class=o>.</span><span class=n>curViewport</span><span class=p>()</span>

    <span class=n>flip_settings</span> <span class=o>=</span> <span class=n>sceneview</span><span class=o>.</span><span class=n>flipbookSettings</span><span class=p>()</span><span class=o>.</span><span class=n>stash</span><span class=p>()</span>
    <span class=n>flip_settings</span><span class=o>.</span><span class=n>frameRange</span><span class=p>((</span><span class=n>frame_start</span><span class=p>,</span> <span class=n>frame_end</span><span class=p>))</span>
    <span class=n>flip_settings</span><span class=o>.</span><span class=n>output</span><span class=p>(</span><span class=n>filepath</span><span class=p>)</span>
    <span class=n>flip_settings</span><span class=o>.</span><span class=n>outputToMPlay</span><span class=p>(</span><span class=kc>False</span><span class=p>)</span>
    <span class=n>sceneview</span><span class=o>.</span><span class=n>flipbook</span><span class=p>(</span><span class=n>viewport</span><span class=p>,</span> <span class=n>flip_settings</span><span class=p>)</span>
    <span class=n>log</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=s2>&quot;A snapshot of sceneview has been saved to: </span><span class=si>{}</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>filepath</span><span class=p>))</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.self_publish class="doc doc-heading"> <code class="highlight language-python"><span class=n>self_publish</span><span class=p>()</span></code> </h2> <div class="doc doc-contents "> <p>Self publish from ROP nodes.</p> <p>Firstly, it gets the node and its dependencies. Then, it deactivates all other ROPs And finally, it triggers the publishing action.</p> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1083</span>
<span class=normal>1084</span>
<span class=normal>1085</span>
<span class=normal>1086</span>
<span class=normal>1087</span>
<span class=normal>1088</span>
<span class=normal>1089</span>
<span class=normal>1090</span>
<span class=normal>1091</span>
<span class=normal>1092</span>
<span class=normal>1093</span>
<span class=normal>1094</span>
<span class=normal>1095</span>
<span class=normal>1096</span>
<span class=normal>1097</span>
<span class=normal>1098</span>
<span class=normal>1099</span>
<span class=normal>1100</span>
<span class=normal>1101</span>
<span class=normal>1102</span>
<span class=normal>1103</span>
<span class=normal>1104</span>
<span class=normal>1105</span>
<span class=normal>1106</span>
<span class=normal>1107</span>
<span class=normal>1108</span>
<span class=normal>1109</span>
<span class=normal>1110</span>
<span class=normal>1111</span>
<span class=normal>1112</span>
<span class=normal>1113</span>
<span class=normal>1114</span>
<span class=normal>1115</span>
<span class=normal>1116</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>self_publish</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Self publish from ROP nodes.</span>

<span class=sd>    Firstly, it gets the node and its dependencies.</span>
<span class=sd>    Then, it deactivates all other ROPs</span>
<span class=sd>    And finally, it triggers the publishing action.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=n>result</span><span class=p>,</span> <span class=n>comment</span> <span class=o>=</span> <span class=n>hou</span><span class=o>.</span><span class=n>ui</span><span class=o>.</span><span class=n>readInput</span><span class=p>(</span>
        <span class=s2>&quot;Add Publish Comment&quot;</span><span class=p>,</span>
        <span class=n>buttons</span><span class=o>=</span><span class=p>(</span><span class=s2>&quot;Publish&quot;</span><span class=p>,</span> <span class=s2>&quot;Cancel&quot;</span><span class=p>),</span>
        <span class=n>title</span><span class=o>=</span><span class=s2>&quot;Publish comment&quot;</span><span class=p>,</span>
        <span class=n>close_choice</span><span class=o>=</span><span class=mi>1</span>
    <span class=p>)</span>

    <span class=k>if</span> <span class=n>result</span><span class=p>:</span>
        <span class=k>return</span>

    <span class=n>current_node</span> <span class=o>=</span> <span class=n>hou</span><span class=o>.</span><span class=n>node</span><span class=p>(</span><span class=s2>&quot;.&quot;</span><span class=p>)</span>
    <span class=n>inputs_paths</span> <span class=o>=</span> <span class=n>find_rop_input_dependencies</span><span class=p>(</span>
        <span class=n>current_node</span><span class=o>.</span><span class=n>inputDependencies</span><span class=p>()</span>
    <span class=p>)</span>
    <span class=n>inputs_paths</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>current_node</span><span class=o>.</span><span class=n>path</span><span class=p>())</span>

    <span class=n>host</span> <span class=o>=</span> <span class=n>registered_host</span><span class=p>()</span>
    <span class=n>context</span> <span class=o>=</span> <span class=n>CreateContext</span><span class=p>(</span><span class=n>host</span><span class=p>,</span> <span class=n>reset</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>

    <span class=k>for</span> <span class=n>instance</span> <span class=ow>in</span> <span class=n>context</span><span class=o>.</span><span class=n>instances</span><span class=p>:</span>
        <span class=n>node_path</span> <span class=o>=</span> <span class=n>instance</span><span class=o>.</span><span class=n>data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;instance_node&quot;</span><span class=p>)</span>
        <span class=n>instance</span><span class=p>[</span><span class=s2>&quot;active&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>node_path</span> <span class=ow>and</span> <span class=n>node_path</span> <span class=ow>in</span> <span class=n>inputs_paths</span>

    <span class=n>context</span><span class=o>.</span><span class=n>save_changes</span><span class=p>()</span>

    <span class=n>publisher_show_and_publish</span><span class=p>(</span><span class=n>comment</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.set_background_images class="doc doc-heading"> <code class="highlight language-python"><span class=n>set_background_images</span><span class=p>(</span><span class=n>node</span><span class=p>,</span> <span class=n>images</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Set hou.NetworkImage background images under given hou.Node</p> <p>Similar to: <code>nodegraphutils.loadBackgroundImages</code></p> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1251</span>
<span class=normal>1252</span>
<span class=normal>1253</span>
<span class=normal>1254</span>
<span class=normal>1255</span>
<span class=normal>1256</span>
<span class=normal>1257</span>
<span class=normal>1258</span>
<span class=normal>1259</span>
<span class=normal>1260</span>
<span class=normal>1261</span>
<span class=normal>1262</span>
<span class=normal>1263</span>
<span class=normal>1264</span>
<span class=normal>1265</span>
<span class=normal>1266</span>
<span class=normal>1267</span>
<span class=normal>1268</span>
<span class=normal>1269</span>
<span class=normal>1270</span>
<span class=normal>1271</span>
<span class=normal>1272</span>
<span class=normal>1273</span>
<span class=normal>1274</span>
<span class=normal>1275</span>
<span class=normal>1276</span>
<span class=normal>1277</span>
<span class=normal>1278</span>
<span class=normal>1279</span>
<span class=normal>1280</span>
<span class=normal>1281</span>
<span class=normal>1282</span>
<span class=normal>1283</span>
<span class=normal>1284</span>
<span class=normal>1285</span>
<span class=normal>1286</span>
<span class=normal>1287</span>
<span class=normal>1288</span>
<span class=normal>1289</span>
<span class=normal>1290</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>set_background_images</span><span class=p>(</span><span class=n>node</span><span class=p>,</span> <span class=n>images</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Set hou.NetworkImage background images under given hou.Node</span>

<span class=sd>    Similar to: `nodegraphutils.loadBackgroundImages`</span>

<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_serialize</span><span class=p>(</span><span class=n>image</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Return hou.NetworkImage as serialized dict&quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>image</span><span class=p>,</span> <span class=nb>dict</span><span class=p>):</span>
            <span class=c1># Assume already serialized, only do some minor validations</span>
            <span class=k>if</span> <span class=s2>&quot;path&quot;</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>image</span><span class=p>:</span>
                <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Missing `path` key in image dictionary.&quot;</span><span class=p>)</span>
            <span class=k>if</span> <span class=s2>&quot;rect&quot;</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>image</span><span class=p>:</span>
                <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Missing `rect` key in image dictionary.&quot;</span><span class=p>)</span>
            <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>image</span><span class=p>[</span><span class=s2>&quot;rect&quot;</span><span class=p>])</span> <span class=o>!=</span> <span class=mi>4</span><span class=p>:</span>
                <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;`rect` value must be list of four floats.&quot;</span><span class=p>)</span>
            <span class=k>return</span> <span class=n>image</span>

        <span class=n>rect</span> <span class=o>=</span> <span class=n>image</span><span class=o>.</span><span class=n>rect</span><span class=p>()</span>
        <span class=n>rect_min</span> <span class=o>=</span> <span class=n>rect</span><span class=o>.</span><span class=n>min</span><span class=p>()</span>
        <span class=n>rect_max</span> <span class=o>=</span> <span class=n>rect</span><span class=o>.</span><span class=n>max</span><span class=p>()</span>
        <span class=n>data</span> <span class=o>=</span> <span class=p>{</span>
            <span class=s2>&quot;path&quot;</span><span class=p>:</span> <span class=n>image</span><span class=o>.</span><span class=n>path</span><span class=p>(),</span>
            <span class=s2>&quot;rect&quot;</span><span class=p>:</span> <span class=p>[</span><span class=n>rect_min</span><span class=o>.</span><span class=n>x</span><span class=p>(),</span> <span class=n>rect_min</span><span class=o>.</span><span class=n>y</span><span class=p>(),</span> <span class=n>rect_max</span><span class=o>.</span><span class=n>x</span><span class=p>(),</span> <span class=n>rect_max</span><span class=o>.</span><span class=n>y</span><span class=p>()],</span>
        <span class=p>}</span>
        <span class=k>if</span> <span class=n>image</span><span class=o>.</span><span class=n>brightness</span><span class=p>()</span> <span class=o>!=</span> <span class=mf>1.0</span><span class=p>:</span>
            <span class=n>data</span><span class=p>[</span><span class=s2>&quot;brightness&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>image</span><span class=o>.</span><span class=n>brightness</span><span class=p>()</span>
        <span class=k>if</span> <span class=n>image</span><span class=o>.</span><span class=n>relativeToPath</span><span class=p>():</span>
            <span class=n>data</span><span class=p>[</span><span class=s2>&quot;relativetopath&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>image</span><span class=o>.</span><span class=n>relativeToPath</span><span class=p>()</span>
        <span class=k>return</span> <span class=n>data</span>

    <span class=k>with</span> <span class=n>hou</span><span class=o>.</span><span class=n>undos</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=s1>&#39;Edit Background Images&#39;</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>images</span><span class=p>:</span>
            <span class=k>assert</span> <span class=nb>all</span><span class=p>(</span><span class=nb>isinstance</span><span class=p>(</span><span class=n>image</span><span class=p>,</span> <span class=p>(</span><span class=nb>dict</span><span class=p>,</span> <span class=n>hou</span><span class=o>.</span><span class=n>NetworkImage</span><span class=p>))</span>
                       <span class=k>for</span> <span class=n>image</span> <span class=ow>in</span> <span class=n>images</span><span class=p>)</span>
            <span class=n>data</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>([</span><span class=n>_serialize</span><span class=p>(</span><span class=n>image</span><span class=p>)</span> <span class=k>for</span> <span class=n>image</span> <span class=ow>in</span> <span class=n>images</span><span class=p>])</span>
            <span class=n>node</span><span class=o>.</span><span class=n>setUserData</span><span class=p>(</span><span class=s2>&quot;backgroundimages&quot;</span><span class=p>,</span> <span class=n>data</span><span class=p>)</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=n>node</span><span class=o>.</span><span class=n>destroyUserData</span><span class=p>(</span><span class=s2>&quot;backgroundimages&quot;</span><span class=p>,</span> <span class=n>must_exist</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.set_camera_resolution class="doc doc-heading"> <code class="highlight language-python"><span class=n>set_camera_resolution</span><span class=p>(</span><span class=n>camera</span><span class=p>,</span> <span class=n>entity</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Apply resolution to camera from task or folder entity.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>camera</code> </td> <td> <code><span title=hou.OpNode>OpNode</span></code> </td> <td> <div class=doc-md-description> <p>Camera node.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>entity</code> </td> <td> <code><span title=Optional>Optional</span>[<span title=Dict>Dict</span>[<span title=str>str</span>, <span title=Any>Any</span>]]</code> </td> <td> <div class=doc-md-description> <p>Folder or task entity. If not provided falls back to current task entity.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>815</span>
<span class=normal>816</span>
<span class=normal>817</span>
<span class=normal>818</span>
<span class=normal>819</span>
<span class=normal>820</span>
<span class=normal>821</span>
<span class=normal>822</span>
<span class=normal>823</span>
<span class=normal>824</span>
<span class=normal>825</span>
<span class=normal>826</span>
<span class=normal>827</span>
<span class=normal>828</span>
<span class=normal>829</span>
<span class=normal>830</span>
<span class=normal>831</span>
<span class=normal>832</span>
<span class=normal>833</span>
<span class=normal>834</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>set_camera_resolution</span><span class=p>(</span><span class=n>camera</span><span class=p>,</span> <span class=n>entity</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Apply resolution to camera from task or folder entity.</span>

<span class=sd>    Arguments:</span>
<span class=sd>        camera (hou.OpNode): Camera node.</span>
<span class=sd>        entity (Optional[Dict[str, Any]]): Folder or task entity.</span>
<span class=sd>            If not provided falls back to current task entity.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>if</span> <span class=ow>not</span> <span class=n>entity</span><span class=p>:</span>
        <span class=n>entity</span> <span class=o>=</span> <span class=n>get_current_task_entity</span><span class=p>()</span>

    <span class=n>resolution</span> <span class=o>=</span> <span class=n>get_resolution_from_entity</span><span class=p>(</span><span class=n>entity</span><span class=p>)</span>

    <span class=k>if</span> <span class=n>resolution</span><span class=p>:</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Setting camera resolution: </span><span class=si>{}</span><span class=s2> -&gt; </span><span class=si>{}</span><span class=s2>x</span><span class=si>{}</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span>
            <span class=n>camera</span><span class=o>.</span><span class=n>name</span><span class=p>(),</span> <span class=n>resolution</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span> <span class=n>resolution</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span>
        <span class=p>))</span>
        <span class=n>camera</span><span class=o>.</span><span class=n>parm</span><span class=p>(</span><span class=s2>&quot;resx&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>set</span><span class=p>(</span><span class=n>resolution</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>
        <span class=n>camera</span><span class=o>.</span><span class=n>parm</span><span class=p>(</span><span class=s2>&quot;resy&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>set</span><span class=p>(</span><span class=n>resolution</span><span class=p>[</span><span class=mi>1</span><span class=p>])</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.set_node_thumbnail class="doc doc-heading"> <code class="highlight language-python"><span class=n>set_node_thumbnail</span><span class=p>(</span><span class=n>node</span><span class=p>,</span> <span class=n>image_path</span><span class=p>,</span> <span class=n>rect</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Set hou.NetworkImage attached to node.</p> <p>If an existing connected image is found it assumes that is the existing thumbnail and will update that particular instance instead.</p> <p>When <code>image_path</code> is None an existing attached <code>hou.NetworkImage</code> will be removed.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>node</code> </td> <td> <code><span title=hou.Node>Node</span></code> </td> <td> <div class=doc-md-description> <p>Node to set thumbnail for.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>image_path</code> </td> <td> <code><span title=Union>Union</span>[<span title=str>str</span>, None]</code> </td> <td> <div class=doc-md-description> <p>Path to image to set. If None is set then the thumbnail will be removed if it exists.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>rect</code> </td> <td> <code><span title=hou.BoundingRect>BoundingRect</span></code> </td> <td> <div class=doc-md-description> <p>Bounding rect for the relative placement to the node.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>hou.NetworkImage or None: The network image that was set or None if instead it not set or removed.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1293</span>
<span class=normal>1294</span>
<span class=normal>1295</span>
<span class=normal>1296</span>
<span class=normal>1297</span>
<span class=normal>1298</span>
<span class=normal>1299</span>
<span class=normal>1300</span>
<span class=normal>1301</span>
<span class=normal>1302</span>
<span class=normal>1303</span>
<span class=normal>1304</span>
<span class=normal>1305</span>
<span class=normal>1306</span>
<span class=normal>1307</span>
<span class=normal>1308</span>
<span class=normal>1309</span>
<span class=normal>1310</span>
<span class=normal>1311</span>
<span class=normal>1312</span>
<span class=normal>1313</span>
<span class=normal>1314</span>
<span class=normal>1315</span>
<span class=normal>1316</span>
<span class=normal>1317</span>
<span class=normal>1318</span>
<span class=normal>1319</span>
<span class=normal>1320</span>
<span class=normal>1321</span>
<span class=normal>1322</span>
<span class=normal>1323</span>
<span class=normal>1324</span>
<span class=normal>1325</span>
<span class=normal>1326</span>
<span class=normal>1327</span>
<span class=normal>1328</span>
<span class=normal>1329</span>
<span class=normal>1330</span>
<span class=normal>1331</span>
<span class=normal>1332</span>
<span class=normal>1333</span>
<span class=normal>1334</span>
<span class=normal>1335</span>
<span class=normal>1336</span>
<span class=normal>1337</span>
<span class=normal>1338</span>
<span class=normal>1339</span>
<span class=normal>1340</span>
<span class=normal>1341</span>
<span class=normal>1342</span>
<span class=normal>1343</span>
<span class=normal>1344</span>
<span class=normal>1345</span>
<span class=normal>1346</span>
<span class=normal>1347</span>
<span class=normal>1348</span>
<span class=normal>1349</span>
<span class=normal>1350</span>
<span class=normal>1351</span>
<span class=normal>1352</span>
<span class=normal>1353</span>
<span class=normal>1354</span>
<span class=normal>1355</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>set_node_thumbnail</span><span class=p>(</span><span class=n>node</span><span class=p>,</span> <span class=n>image_path</span><span class=p>,</span> <span class=n>rect</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Set hou.NetworkImage attached to node.</span>

<span class=sd>    If an existing connected image is found it assumes that is the existing</span>
<span class=sd>    thumbnail and will update that particular instance instead.</span>

<span class=sd>    When `image_path` is None an existing attached `hou.NetworkImage` will be</span>
<span class=sd>    removed.</span>

<span class=sd>    Arguments:</span>
<span class=sd>        node (hou.Node): Node to set thumbnail for.</span>
<span class=sd>        image_path (Union[str, None]): Path to image to set.</span>
<span class=sd>            If None is set then the thumbnail will be removed if it exists.</span>
<span class=sd>        rect (hou.BoundingRect): Bounding rect for the relative placement</span>
<span class=sd>            to the node.</span>

<span class=sd>    Returns:</span>
<span class=sd>        hou.NetworkImage or None: The network image that was set or None if</span>
<span class=sd>            instead it not set or removed.</span>

<span class=sd>    &quot;&quot;&quot;</span>

    <span class=n>parent</span> <span class=o>=</span> <span class=n>node</span><span class=o>.</span><span class=n>parent</span><span class=p>()</span>
    <span class=n>images</span> <span class=o>=</span> <span class=n>get_background_images</span><span class=p>(</span><span class=n>parent</span><span class=p>)</span>

    <span class=n>node_path</span> <span class=o>=</span> <span class=n>node</span><span class=o>.</span><span class=n>path</span><span class=p>()</span>
    <span class=c1># Find first existing image attached to node</span>
    <span class=n>index</span><span class=p>,</span> <span class=n>image</span> <span class=o>=</span> <span class=nb>next</span><span class=p>(</span>
        <span class=p>(</span>
            <span class=p>(</span><span class=n>index</span><span class=p>,</span> <span class=n>image</span><span class=p>)</span> <span class=k>for</span> <span class=n>index</span><span class=p>,</span> <span class=n>image</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>images</span><span class=p>)</span> <span class=k>if</span>
            <span class=n>image</span><span class=o>.</span><span class=n>relativeToPath</span><span class=p>()</span> <span class=o>==</span> <span class=n>node_path</span>
        <span class=p>),</span>
        <span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
    <span class=p>)</span>
    <span class=k>if</span> <span class=n>image_path</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=c1># Remove image if it exists</span>
        <span class=k>if</span> <span class=n>image</span><span class=p>:</span>
            <span class=n>images</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=n>image</span><span class=p>)</span>
            <span class=n>set_background_images</span><span class=p>(</span><span class=n>parent</span><span class=p>,</span> <span class=n>images</span><span class=p>)</span>
        <span class=k>return</span>

    <span class=k>if</span> <span class=n>rect</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>rect</span> <span class=o>=</span> <span class=n>hou</span><span class=o>.</span><span class=n>BoundingRect</span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>

    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>image_path</span><span class=p>,</span> <span class=n>hou</span><span class=o>.</span><span class=n>NetworkImage</span><span class=p>):</span>
        <span class=n>image</span> <span class=o>=</span> <span class=n>image_path</span>
        <span class=k>if</span> <span class=n>index</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
            <span class=n>images</span><span class=p>[</span><span class=n>index</span><span class=p>]</span> <span class=o>=</span> <span class=n>image</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=n>images</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>image</span><span class=p>)</span>
    <span class=k>elif</span> <span class=n>image</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=c1># Create the image</span>
        <span class=n>image</span> <span class=o>=</span> <span class=n>hou</span><span class=o>.</span><span class=n>NetworkImage</span><span class=p>(</span><span class=n>image_path</span><span class=p>,</span> <span class=n>rect</span><span class=p>)</span>
        <span class=n>image</span><span class=o>.</span><span class=n>setRelativeToPath</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>path</span><span class=p>())</span>
        <span class=n>images</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>image</span><span class=p>)</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=c1># Update first existing image</span>
        <span class=n>image</span><span class=o>.</span><span class=n>setRect</span><span class=p>(</span><span class=n>rect</span><span class=p>)</span>
        <span class=n>image</span><span class=o>.</span><span class=n>setPath</span><span class=p>(</span><span class=n>image_path</span><span class=p>)</span>

    <span class=n>set_background_images</span><span class=p>(</span><span class=n>parent</span><span class=p>,</span> <span class=n>images</span><span class=p>)</span>

    <span class=k>return</span> <span class=n>image</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.set_review_color_space class="doc doc-heading"> <code class="highlight language-python"><span class=n>set_review_color_space</span><span class=p>(</span><span class=n>node</span><span class=p>,</span> <span class=n>review_color_space</span><span class=o>=</span><span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=n>log</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Set ociocolorspace parameter for the given OpenGL node.</p> <p>Set <code>ociocolorspace</code> parameter of the given node to to the given review_color_space value. If review_color_space is empty, a default colorspace corresponding to the display &amp; view of the current Houdini session will be used.</p> <details class=note open> <summary>Note</summary> <p>This function expects nodes of type <code>opengl</code> or <code>flipbook</code>.</p> </details> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>node</code> </td> <td> <code><span title=hou.Node>Node</span></code> </td> <td> <div class=doc-md-description> <p>ROP node to set its ociocolorspace parm.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>review_color_space</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Colorspace value for ociocolorspace parm.</p> </div> </td> <td> <code>&#39;&#39;</code> </td> </tr> <tr class=doc-section-item> <td> <code>log</code> </td> <td> <code><span title=logging.Logger>Logger</span></code> </td> <td> <div class=doc-md-description> <p>Logger to log to.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>900</span>
<span class=normal>901</span>
<span class=normal>902</span>
<span class=normal>903</span>
<span class=normal>904</span>
<span class=normal>905</span>
<span class=normal>906</span>
<span class=normal>907</span>
<span class=normal>908</span>
<span class=normal>909</span>
<span class=normal>910</span>
<span class=normal>911</span>
<span class=normal>912</span>
<span class=normal>913</span>
<span class=normal>914</span>
<span class=normal>915</span>
<span class=normal>916</span>
<span class=normal>917</span>
<span class=normal>918</span>
<span class=normal>919</span>
<span class=normal>920</span>
<span class=normal>921</span>
<span class=normal>922</span>
<span class=normal>923</span>
<span class=normal>924</span>
<span class=normal>925</span>
<span class=normal>926</span>
<span class=normal>927</span>
<span class=normal>928</span>
<span class=normal>929</span>
<span class=normal>930</span>
<span class=normal>931</span>
<span class=normal>932</span>
<span class=normal>933</span>
<span class=normal>934</span>
<span class=normal>935</span>
<span class=normal>936</span>
<span class=normal>937</span>
<span class=normal>938</span>
<span class=normal>939</span>
<span class=normal>940</span>
<span class=normal>941</span>
<span class=normal>942</span>
<span class=normal>943</span>
<span class=normal>944</span>
<span class=normal>945</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>set_review_color_space</span><span class=p>(</span><span class=n>node</span><span class=p>,</span> <span class=n>review_color_space</span><span class=o>=</span><span class=s2>&quot;&quot;</span><span class=p>,</span> <span class=n>log</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Set ociocolorspace parameter for the given OpenGL node.</span>

<span class=sd>    Set `ociocolorspace` parameter of the given node</span>
<span class=sd>    to to the given review_color_space value.</span>
<span class=sd>    If review_color_space is empty, a default colorspace corresponding to</span>
<span class=sd>    the display &amp; view of the current Houdini session will be used.</span>

<span class=sd>    Note:</span>
<span class=sd>        This function expects nodes of type `opengl` or `flipbook`.</span>

<span class=sd>    Args:</span>
<span class=sd>        node (hou.Node): ROP node to set its ociocolorspace parm.</span>
<span class=sd>        review_color_space (str): Colorspace value for ociocolorspace parm.</span>
<span class=sd>        log (logging.Logger): Logger to log to.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>if</span> <span class=n>log</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>log</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>log</span>

    <span class=k>if</span> <span class=n>node</span><span class=o>.</span><span class=n>type</span><span class=p>()</span><span class=o>.</span><span class=n>name</span><span class=p>()</span> <span class=ow>not</span> <span class=ow>in</span> <span class=p>{</span><span class=s2>&quot;opengl&quot;</span><span class=p>,</span> <span class=s2>&quot;flipbook&quot;</span><span class=p>}:</span>
        <span class=n>log</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span>
            <span class=s2>&quot;Type of given node </span><span class=si>{}</span><span class=s2> not allowed.&quot;</span>
            <span class=s2>&quot; only types `opengl` and `flipbook` are allowed.&quot;</span>
            <span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>type</span><span class=p>()</span><span class=o>.</span><span class=n>name</span><span class=p>())</span>
        <span class=p>)</span>

    <span class=c1># Set Color Correction parameter to OpenColorIO</span>
    <span class=n>colorcorrect_parm</span> <span class=o>=</span> <span class=n>node</span><span class=o>.</span><span class=n>parm</span><span class=p>(</span><span class=s2>&quot;colorcorrect&quot;</span><span class=p>)</span>
    <span class=k>if</span> <span class=n>colorcorrect_parm</span><span class=o>.</span><span class=n>evalAsString</span><span class=p>()</span> <span class=o>!=</span> <span class=s2>&quot;ocio&quot;</span><span class=p>:</span>
        <span class=n>idx</span> <span class=o>=</span> <span class=n>colorcorrect_parm</span><span class=o>.</span><span class=n>menuItems</span><span class=p>()</span><span class=o>.</span><span class=n>index</span><span class=p>(</span><span class=s2>&quot;ocio&quot;</span><span class=p>)</span>
        <span class=n>colorcorrect_parm</span><span class=o>.</span><span class=n>set</span><span class=p>(</span><span class=n>idx</span><span class=p>)</span>
        <span class=n>log</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span>
            <span class=s2>&quot;&#39;Color Correction&#39; parm on &#39;</span><span class=si>{}</span><span class=s2>&#39; has been set to &#39;</span><span class=si>{}</span><span class=s2>&#39;&quot;</span>
            <span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>path</span><span class=p>(),</span> <span class=n>colorcorrect_parm</span><span class=o>.</span><span class=n>menuLabels</span><span class=p>()[</span><span class=n>idx</span><span class=p>])</span>
        <span class=p>)</span>

    <span class=n>node</span><span class=o>.</span><span class=n>setParms</span><span class=p>(</span>
        <span class=p>{</span><span class=s2>&quot;ociocolorspace&quot;</span><span class=p>:</span> <span class=n>review_color_space</span><span class=p>}</span>
    <span class=p>)</span>

    <span class=n>log</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span>
        <span class=s2>&quot;&#39;OCIO Colorspace&#39; parm on &#39;</span><span class=si>{}</span><span class=s2>&#39; has been set to &quot;</span>
        <span class=s2>&quot;the view color space &#39;</span><span class=si>{}</span><span class=s2>&#39;&quot;</span>
        <span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>path</span><span class=p>(),</span> <span class=n>review_color_space</span><span class=p>)</span>
    <span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.show_node_parmeditor class="doc doc-heading"> <code class="highlight language-python"><span class=n>show_node_parmeditor</span><span class=p>(</span><span class=n>node</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Show Parameter Editor for the Node.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>node</code> </td> <td> <code><span title=hou.Node>Node</span></code> </td> <td> <div class=doc-md-description> <p>node instance</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1538</span>
<span class=normal>1539</span>
<span class=normal>1540</span>
<span class=normal>1541</span>
<span class=normal>1542</span>
<span class=normal>1543</span>
<span class=normal>1544</span>
<span class=normal>1545</span>
<span class=normal>1546</span>
<span class=normal>1547</span>
<span class=normal>1548</span>
<span class=normal>1549</span>
<span class=normal>1550</span>
<span class=normal>1551</span>
<span class=normal>1552</span>
<span class=normal>1553</span>
<span class=normal>1554</span>
<span class=normal>1555</span>
<span class=normal>1556</span>
<span class=normal>1557</span>
<span class=normal>1558</span>
<span class=normal>1559</span>
<span class=normal>1560</span>
<span class=normal>1561</span>
<span class=normal>1562</span>
<span class=normal>1563</span>
<span class=normal>1564</span>
<span class=normal>1565</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>show_node_parmeditor</span><span class=p>(</span><span class=n>node</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Show Parameter Editor for the Node.</span>

<span class=sd>    Args:</span>
<span class=sd>        node (hou.Node): node instance</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=c1># Check if there&#39;s a floating parameter editor pane with its node</span>
    <span class=c1>#   set to the specified node.</span>
    <span class=k>for</span> <span class=n>tab</span> <span class=ow>in</span> <span class=n>hou</span><span class=o>.</span><span class=n>ui</span><span class=o>.</span><span class=n>paneTabs</span><span class=p>():</span>
        <span class=k>if</span> <span class=p>(</span>
            <span class=n>tab</span><span class=o>.</span><span class=n>type</span><span class=p>()</span> <span class=o>==</span> <span class=n>hou</span><span class=o>.</span><span class=n>paneTabType</span><span class=o>.</span><span class=n>Parm</span>
            <span class=ow>and</span> <span class=n>tab</span><span class=o>.</span><span class=n>isFloating</span><span class=p>()</span>
            <span class=ow>and</span> <span class=n>tab</span><span class=o>.</span><span class=n>currentNode</span><span class=p>()</span> <span class=o>==</span> <span class=n>node</span>
        <span class=p>):</span>
            <span class=n>tab</span><span class=o>.</span><span class=n>setIsCurrentTab</span><span class=p>()</span>
            <span class=k>return</span>

    <span class=c1># We are using the hscript to create and set the network path of the pane</span>
    <span class=c1># because hscript can set the node path without selecting the node.</span>
    <span class=c1># Create a floating pane and set its name to the node path.</span>
    <span class=n>hou</span><span class=o>.</span><span class=n>hscript</span><span class=p>(</span>
        <span class=sa>f</span><span class=s2>&quot;pane -F -m parmeditor -n </span><span class=si>{</span><span class=n>node</span><span class=o>.</span><span class=n>path</span><span class=p>()</span><span class=si>}</span><span class=s2>&quot;</span>
    <span class=p>)</span>
    <span class=c1># Hide network controls, turn linking off and set operator node path.</span>
    <span class=n>hou</span><span class=o>.</span><span class=n>hscript</span><span class=p>(</span>
        <span class=sa>f</span><span class=s2>&quot;pane -a 1 -l 0 -H </span><span class=si>{</span><span class=n>node</span><span class=o>.</span><span class=n>path</span><span class=p>()</span><span class=si>}</span><span class=s2> </span><span class=si>{</span><span class=n>node</span><span class=o>.</span><span class=n>path</span><span class=p>()</span><span class=si>}</span><span class=s2>&quot;</span>
    <span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.splitext class="doc doc-heading"> <code class="highlight language-python"><span class=n>splitext</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>allowed_multidot_extensions</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Split file name to name and extension.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>File name to split.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>allowed_multidot_extensions</code> </td> <td> <code>list of str</code> </td> <td> <div class=doc-md-description> <p>List of allowed multidot extensions.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>tuple</code></td> <td> </td> <td> <div class=doc-md-description> <p>Name and extension.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>634</span>
<span class=normal>635</span>
<span class=normal>636</span>
<span class=normal>637</span>
<span class=normal>638</span>
<span class=normal>639</span>
<span class=normal>640</span>
<span class=normal>641</span>
<span class=normal>642</span>
<span class=normal>643</span>
<span class=normal>644</span>
<span class=normal>645</span>
<span class=normal>646</span>
<span class=normal>647</span>
<span class=normal>648</span>
<span class=normal>649</span>
<span class=normal>650</span>
<span class=normal>651</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>splitext</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>allowed_multidot_extensions</span><span class=p>):</span>
    <span class=c1># type: (str, list) -&gt; tuple</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Split file name to name and extension.</span>

<span class=sd>    Args:</span>
<span class=sd>        name (str): File name to split.</span>
<span class=sd>        allowed_multidot_extensions (list of str): List of allowed multidot</span>
<span class=sd>            extensions.</span>

<span class=sd>    Returns:</span>
<span class=sd>        tuple: Name and extension.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>for</span> <span class=n>ext</span> <span class=ow>in</span> <span class=n>allowed_multidot_extensions</span><span class=p>:</span>
        <span class=k>if</span> <span class=n>name</span><span class=o>.</span><span class=n>endswith</span><span class=p>(</span><span class=n>ext</span><span class=p>):</span>
            <span class=k>return</span> <span class=n>name</span><span class=p>[:</span><span class=o>-</span><span class=nb>len</span><span class=p>(</span><span class=n>ext</span><span class=p>)],</span> <span class=n>ext</span>

    <span class=k>return</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>splitext</span><span class=p>(</span><span class=n>name</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.update_content_on_context_change class="doc doc-heading"> <code class="highlight language-python"><span class=n>update_content_on_context_change</span><span class=p>()</span></code> </h2> <div class="doc doc-contents "> <p>Update all Creator instances to current asset</p> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1445</span>
<span class=normal>1446</span>
<span class=normal>1447</span>
<span class=normal>1448</span>
<span class=normal>1449</span>
<span class=normal>1450</span>
<span class=normal>1451</span>
<span class=normal>1452</span>
<span class=normal>1453</span>
<span class=normal>1454</span>
<span class=normal>1455</span>
<span class=normal>1456</span>
<span class=normal>1457</span>
<span class=normal>1458</span>
<span class=normal>1459</span>
<span class=normal>1460</span>
<span class=normal>1461</span>
<span class=normal>1462</span>
<span class=normal>1463</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>update_content_on_context_change</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Update all Creator instances to current asset&quot;&quot;&quot;</span>
    <span class=n>host</span> <span class=o>=</span> <span class=n>registered_host</span><span class=p>()</span>
    <span class=n>context</span> <span class=o>=</span> <span class=n>host</span><span class=o>.</span><span class=n>get_current_context</span><span class=p>()</span>

    <span class=n>folder_path</span> <span class=o>=</span> <span class=n>context</span><span class=p>[</span><span class=s2>&quot;folder_path&quot;</span><span class=p>]</span>
    <span class=n>task</span> <span class=o>=</span> <span class=n>context</span><span class=p>[</span><span class=s2>&quot;task_name&quot;</span><span class=p>]</span>

    <span class=n>create_context</span> <span class=o>=</span> <span class=n>CreateContext</span><span class=p>(</span><span class=n>host</span><span class=p>,</span> <span class=n>reset</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>

    <span class=k>for</span> <span class=n>instance</span> <span class=ow>in</span> <span class=n>create_context</span><span class=o>.</span><span class=n>instances</span><span class=p>:</span>
        <span class=n>instance_folder_path</span> <span class=o>=</span> <span class=n>instance</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;folderPath&quot;</span><span class=p>)</span>
        <span class=k>if</span> <span class=n>instance_folder_path</span> <span class=ow>and</span> <span class=n>instance_folder_path</span> <span class=o>!=</span> <span class=n>folder_path</span><span class=p>:</span>
            <span class=n>instance</span><span class=p>[</span><span class=s2>&quot;folderPath&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>folder_path</span>
        <span class=n>instance_task</span> <span class=o>=</span> <span class=n>instance</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;task&quot;</span><span class=p>)</span>
        <span class=k>if</span> <span class=n>instance_task</span> <span class=ow>and</span> <span class=n>instance_task</span> <span class=o>!=</span> <span class=n>task</span><span class=p>:</span>
            <span class=n>instance</span><span class=p>[</span><span class=s2>&quot;task&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>task</span>

    <span class=n>create_context</span><span class=o>.</span><span class=n>save_changes</span><span class=p>()</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.update_houdini_vars_context class="doc doc-heading"> <code class="highlight language-python"><span class=n>update_houdini_vars_context</span><span class=p>()</span></code> </h2> <div class="doc doc-contents "> <p>Update task context variables</p> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 998</span>
<span class=normal> 999</span>
<span class=normal>1000</span>
<span class=normal>1001</span>
<span class=normal>1002</span>
<span class=normal>1003</span>
<span class=normal>1004</span>
<span class=normal>1005</span>
<span class=normal>1006</span>
<span class=normal>1007</span>
<span class=normal>1008</span>
<span class=normal>1009</span>
<span class=normal>1010</span>
<span class=normal>1011</span>
<span class=normal>1012</span>
<span class=normal>1013</span>
<span class=normal>1014</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>update_houdini_vars_context</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Update task context variables&quot;&quot;&quot;</span>

    <span class=k>for</span> <span class=n>var</span><span class=p>,</span> <span class=p>(</span><span class=n>_old</span><span class=p>,</span> <span class=n>new</span><span class=p>,</span> <span class=n>is_directory</span><span class=p>)</span> <span class=ow>in</span> <span class=n>get_context_var_changes</span><span class=p>()</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
        <span class=k>if</span> <span class=n>is_directory</span><span class=p>:</span>
            <span class=k>try</span><span class=p>:</span>
                <span class=n>os</span><span class=o>.</span><span class=n>makedirs</span><span class=p>(</span><span class=n>new</span><span class=p>)</span>
            <span class=k>except</span> <span class=ne>OSError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
                <span class=k>if</span> <span class=n>e</span><span class=o>.</span><span class=n>errno</span> <span class=o>!=</span> <span class=n>errno</span><span class=o>.</span><span class=n>EEXIST</span><span class=p>:</span>
                    <span class=nb>print</span><span class=p>(</span>
                        <span class=s2>&quot;Failed to create $</span><span class=si>{}</span><span class=s2> dir. Maybe due to &quot;</span>
                        <span class=s2>&quot;insufficient permissions.&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>var</span><span class=p>)</span>
                    <span class=p>)</span>

        <span class=n>hou</span><span class=o>.</span><span class=n>hscript</span><span class=p>(</span><span class=s2>&quot;set </span><span class=si>{}</span><span class=s2>=</span><span class=si>{}</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>var</span><span class=p>,</span> <span class=n>new</span><span class=p>))</span>
        <span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=p>[</span><span class=n>var</span><span class=p>]</span> <span class=o>=</span> <span class=n>new</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Updated $</span><span class=si>{}</span><span class=s2> to </span><span class=si>{}</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>var</span><span class=p>,</span> <span class=n>new</span><span class=p>))</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.update_houdini_vars_context_dialog class="doc doc-heading"> <code class="highlight language-python"><span class=n>update_houdini_vars_context_dialog</span><span class=p>()</span></code> </h2> <div class="doc doc-contents "> <p>Show pop-up to update task context variables</p> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1017</span>
<span class=normal>1018</span>
<span class=normal>1019</span>
<span class=normal>1020</span>
<span class=normal>1021</span>
<span class=normal>1022</span>
<span class=normal>1023</span>
<span class=normal>1024</span>
<span class=normal>1025</span>
<span class=normal>1026</span>
<span class=normal>1027</span>
<span class=normal>1028</span>
<span class=normal>1029</span>
<span class=normal>1030</span>
<span class=normal>1031</span>
<span class=normal>1032</span>
<span class=normal>1033</span>
<span class=normal>1034</span>
<span class=normal>1035</span>
<span class=normal>1036</span>
<span class=normal>1037</span>
<span class=normal>1038</span>
<span class=normal>1039</span>
<span class=normal>1040</span>
<span class=normal>1041</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>update_houdini_vars_context_dialog</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Show pop-up to update task context variables&quot;&quot;&quot;</span>
    <span class=n>update_vars</span> <span class=o>=</span> <span class=n>get_context_var_changes</span><span class=p>()</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=n>update_vars</span><span class=p>:</span>
        <span class=c1># Nothing to change</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Nothing to change, Houdini vars are already up to date.&quot;</span><span class=p>)</span>
        <span class=k>return</span>

    <span class=n>message</span> <span class=o>=</span> <span class=s2>&quot;</span><span class=se>\n</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span>
        <span class=s2>&quot;$</span><span class=si>{}</span><span class=s2>: </span><span class=si>{}</span><span class=s2> -&gt; </span><span class=si>{}</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>var</span><span class=p>,</span> <span class=n>old</span> <span class=ow>or</span> <span class=s2>&quot;None&quot;</span><span class=p>,</span> <span class=n>new</span> <span class=ow>or</span> <span class=s2>&quot;None&quot;</span><span class=p>)</span>
        <span class=k>for</span> <span class=n>var</span><span class=p>,</span> <span class=p>(</span><span class=n>old</span><span class=p>,</span> <span class=n>new</span><span class=p>,</span> <span class=n>_is_directory</span><span class=p>)</span> <span class=ow>in</span> <span class=n>update_vars</span><span class=o>.</span><span class=n>items</span><span class=p>()</span>
    <span class=p>)</span>

    <span class=c1># TODO: Use better UI!</span>
    <span class=n>parent</span> <span class=o>=</span> <span class=n>hou</span><span class=o>.</span><span class=n>ui</span><span class=o>.</span><span class=n>mainQtWindow</span><span class=p>()</span>
    <span class=n>dialog</span> <span class=o>=</span> <span class=n>SimplePopup</span><span class=p>(</span><span class=n>parent</span><span class=o>=</span><span class=n>parent</span><span class=p>)</span>
    <span class=n>dialog</span><span class=o>.</span><span class=n>setModal</span><span class=p>(</span><span class=kc>True</span><span class=p>)</span>
    <span class=n>dialog</span><span class=o>.</span><span class=n>setWindowTitle</span><span class=p>(</span><span class=s2>&quot;Houdini scene has outdated task variables&quot;</span><span class=p>)</span>
    <span class=n>dialog</span><span class=o>.</span><span class=n>set_message</span><span class=p>(</span><span class=n>message</span><span class=p>)</span>
    <span class=n>dialog</span><span class=o>.</span><span class=n>set_button_text</span><span class=p>(</span><span class=s2>&quot;Fix&quot;</span><span class=p>)</span>

    <span class=c1># on_show is the Fix button clicked callback</span>
    <span class=n>dialog</span><span class=o>.</span><span class=n>on_clicked</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=n>update_houdini_vars_context</span><span class=p>)</span>

    <span class=n>dialog</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_houdini.api.lib.validate_fps class="doc doc-heading"> <code class="highlight language-python"><span class=n>validate_fps</span><span class=p>()</span></code> </h2> <div class="doc doc-contents "> <p>Validate current scene FPS and show pop-up when it is incorrect</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>bool</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_houdini/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>219</span>
<span class=normal>220</span>
<span class=normal>221</span>
<span class=normal>222</span>
<span class=normal>223</span>
<span class=normal>224</span>
<span class=normal>225</span>
<span class=normal>226</span>
<span class=normal>227</span>
<span class=normal>228</span>
<span class=normal>229</span>
<span class=normal>230</span>
<span class=normal>231</span>
<span class=normal>232</span>
<span class=normal>233</span>
<span class=normal>234</span>
<span class=normal>235</span>
<span class=normal>236</span>
<span class=normal>237</span>
<span class=normal>238</span>
<span class=normal>239</span>
<span class=normal>240</span>
<span class=normal>241</span>
<span class=normal>242</span>
<span class=normal>243</span>
<span class=normal>244</span>
<span class=normal>245</span>
<span class=normal>246</span>
<span class=normal>247</span>
<span class=normal>248</span>
<span class=normal>249</span>
<span class=normal>250</span>
<span class=normal>251</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>validate_fps</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Validate current scene FPS and show pop-up when it is incorrect</span>

<span class=sd>    Returns:</span>
<span class=sd>        bool</span>

<span class=sd>    &quot;&quot;&quot;</span>

    <span class=n>fps</span> <span class=o>=</span> <span class=n>get_entity_fps</span><span class=p>()</span>
    <span class=n>current_fps</span> <span class=o>=</span> <span class=n>hou</span><span class=o>.</span><span class=n>fps</span><span class=p>()</span>  <span class=c1># returns float</span>

    <span class=k>if</span> <span class=n>current_fps</span> <span class=o>!=</span> <span class=n>fps</span><span class=p>:</span>

        <span class=c1># Find main window</span>
        <span class=n>parent</span> <span class=o>=</span> <span class=n>hou</span><span class=o>.</span><span class=n>ui</span><span class=o>.</span><span class=n>mainQtWindow</span><span class=p>()</span>
        <span class=k>if</span> <span class=n>parent</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>pass</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=n>dialog</span> <span class=o>=</span> <span class=n>PopupUpdateKeys</span><span class=p>(</span><span class=n>parent</span><span class=o>=</span><span class=n>parent</span><span class=p>)</span>
            <span class=n>dialog</span><span class=o>.</span><span class=n>setModal</span><span class=p>(</span><span class=kc>True</span><span class=p>)</span>
            <span class=n>dialog</span><span class=o>.</span><span class=n>setWindowTitle</span><span class=p>(</span><span class=s2>&quot;Houdini scene does not match project FPS&quot;</span><span class=p>)</span>
            <span class=n>dialog</span><span class=o>.</span><span class=n>set_message</span><span class=p>(</span><span class=s2>&quot;Scene </span><span class=si>%i</span><span class=s2> FPS does not match project </span><span class=si>%i</span><span class=s2> FPS&quot;</span> <span class=o>%</span>
                              <span class=p>(</span><span class=n>current_fps</span><span class=p>,</span> <span class=n>fps</span><span class=p>))</span>
            <span class=n>dialog</span><span class=o>.</span><span class=n>set_button_text</span><span class=p>(</span><span class=s2>&quot;Fix&quot;</span><span class=p>)</span>

            <span class=c1># on_show is the Fix button clicked callback</span>
            <span class=n>dialog</span><span class=o>.</span><span class=n>on_clicked_state</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=k>lambda</span><span class=p>:</span> <span class=n>set_scene_fps</span><span class=p>(</span><span class=n>fps</span><span class=p>))</span>

            <span class=n>dialog</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>

            <span class=k>return</span> <span class=kc>False</span>

    <span class=k>return</span> <span class=kc>True</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../../..", "features": ["navigation.sections", "navigation.path", "navigation.prune"], "search": "../../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../../../../assets/javascripts/bundle.c8b220af.min.js></script> </body> </html>